import{_ as o,o as r,c as a,ag as i}from"./chunks/framework.Q1EpFJIG.js";const s="/images/google-install-3.png",n="/images/google-install-4.png",l="/images/google-install-5.png",d="/images/google-install-6.png",g="/images/google-install-6a.png",c="/images/google-install-saml-1.png",p="/images/google-install-saml-2.png",h="/images/google-install-saml-3.png",m="/images/google-install-saml-5.png",t="/images/google-install-saml-4.png",u="/images/google-install-saml-5b.png",y="/images/google-install-saml-5a.png",f="/images/google-install-saml-6a.png",w="/images/google-install-saml-7.png",k="/images/google-install-saml-8.png",b="/images/google-install-saml-9.png",_="/images/google-install-saml-10.png",x="/images/google-install-saml-11.png",D="/images/google-install-11.jpg",C=JSON.parse('{"title":"Integrate with Google","description":"","frontmatter":{},"headers":[],"relativePath":"administrator/google.md","filePath":"administrator/google.md"}'),v={name:"administrator/google.md"};function G(I,e,F,A,N,q){return r(),a("div",null,[...e[0]||(e[0]=[i('<h1 id="integrate-with-google" tabindex="-1">Integrate with Google <a class="header-anchor" href="#integrate-with-google" aria-label="Permalink to &quot;Integrate with Google&quot;">​</a></h1><p>If your corporate address book resides in Google Workspace you may want to integrate it with your Federated Directory.</p><p>Integrating Federated Directory with Google Workspace provides you with the following benefits:</p><ul><li><a href="#authentication">Users can log in with their Google accounts.</a></li><li><a href="#user-management-by-google-workspace">Users are synced from your Google Workspace.</a></li></ul><p>Before you continue make sure you <a href="../getting-started#sign-up">signed up</a> to Federated Directory.</p><h2 id="authentication" tabindex="-1">Authentication <a class="header-anchor" href="#authentication" aria-label="Permalink to &quot;Authentication&quot;">​</a></h2><p>The <a href="../login">login</a> chapter describes how users can login with their Google account. Enabling this, is as easy as selecting <code>Google accounts</code> as an authentication method on the settings tab on a directory.</p><p>We only allow access to users that are created in this directory. During the authentication process we map the users Google ID with the <code>userName</code> of the user in our directory.</p><table tabindex="0"><thead><tr><th style="text-align:left;"></th><th style="text-align:center;">Google Directory</th><th style="text-align:center;">Federated Directory</th></tr></thead><tbody><tr><td style="text-align:left;">Attribute mapping</td><td style="text-align:center;">id</td><td style="text-align:center;">userName ️️</td></tr></tbody></table><p>So make sure these two match.</p><h2 id="user-management-by-google-workspace" tabindex="-1">User management by Google Workspace <a class="header-anchor" href="#user-management-by-google-workspace" aria-label="Permalink to &quot;User management by Google Workspace&quot;">​</a></h2><p>The following provisioning features are supported when using provisioning from Google Workspace to Federated Directory:</p><ul><li>Create Users: New or existing users in your Google Workspace will be pushed to Federated Directory as new users.</li><li>Update User Attributes: Updates to user profiles in your Google Workspace will be pushed to Federated Directory.</li><li>Deactivate Users: Users deactivated in your Google Workspace will be automatically disabled in Federated Directory, but their contact data can still be found. If reactivated, users will regain access to Federated Directory.</li><li>Delete Users: When a user is deleted in your Google Workspace it will be deleted in Federated Directory as well.</li></ul><p>Enabling Google Workspace to sync users to Federated Directory consists of two steps:</p><ol><li><a href="#install-from-google-workspace-marketplace">Install Federated Directory from Google Workspace marketplace</a></li><li><a href="#enable-the-sync-of-users-from-your-google-workspace-to-federated-directory">Enable the sync of users from your Google Workspace to Federated Directory</a></li></ol><h3 id="install-from-google-workspace-marketplace" tabindex="-1">Install from Google Workspace Marketplace <a class="header-anchor" href="#install-from-google-workspace-marketplace" aria-label="Permalink to &quot;Install from Google Workspace Marketplace&quot;">​</a></h3><p>Make sure you are a Google Workspace administrator and go to our app in the Marketplace: <a href="https://workspace.google.com/marketplace/app/federated_directory/293967924849" target="_blank" rel="noreferrer">https://workspace.google.com/marketplace/app/federated_directory/293967924849</a></p><p>On the screen of the Federated Directory app click, <strong>Admin install</strong>.</p><img style="width:600px;" src="'+s+'" alt="Federated Directory in Google Marketplace"><p>This will kick off the consent process to allow users to log in to Federated Directory using a Google Workspace account. Click <strong>CONTINUE</strong>:</p><img style="width:600px;" src="'+n+'" alt="Prompt in Marketplace to install Federated Directory"><img style="width:600px;" src="'+l+'" alt="Admin console consent"><p>After you&#39;ve accepted consent, you will see an information dialog.</p><img style="width:600px;" src="'+d+'" alt="App installed in Marketplace"><p>From now on you should be able to see the Federated Directory app inside installed apps in Google Admin Console</p><img style="width:600px;" src="'+g+'" alt="Federated Directory sign in"><p>Visit this link to confirm: <a href="https://admin.google.com/ac/apps/gmail/marketplace/apps" target="_blank" rel="noreferrer">https://admin.google.com/ac/apps/gmail/marketplace/apps</a>.</p><h3 id="enable-the-sync-of-users-from-your-google-workspace-to-federated-directory" tabindex="-1">Enable the sync of users from your Google Workspace to Federated Directory <a class="header-anchor" href="#enable-the-sync-of-users-from-your-google-workspace-to-federated-directory" aria-label="Permalink to &quot;Enable the sync of users from your Google Workspace to Federated Directory&quot;">​</a></h3><p>From your Google admin console, browse to Apps ⇒ Web and Mobile Apps. Once that screen is shown, click the <strong>Add app</strong> button and then &quot;Search for apps&quot;</p><p>In the filter box enter &#39;Federated Directory&#39; and select it by clicking <strong>Select</strong> button</p><img style="width:600px;" src="'+c+'" alt="Selecting Federated Directory app"><p>You will arrive on the configuration screen.</p><p>To enable user provisioning (sync) in Google, it requires you to configure Single Sign-On. Although we don&#39;t use these settings directly we have to finish this step.</p><img style="width:600px;" src="'+p+'" alt="Google IdP Information dialog"><p>Accept defaults and click <strong>CONTINUE</strong>:</p><img style="width:600px;" src="'+h+'" alt="Service provider details dialog"><p>Change &#39;ACS URL&#39; to <code>https://federated.directory</code> and &#39;Entity ID&#39; to <code>federated.directory</code> and click <strong>CONTINUE</strong>.</p><img style="width:600px;" src="'+m+'" alt="Set authentication to Google"><p>Click <strong>FINISH</strong>.</p><p>Now we can actually configure the user provisioning.</p><img style="width:600px;" src="'+t+'" alt="Configured app"><p>First of all, enable the service for all users within your Google Workspace domain by clicking the header &quot;User access&quot;.</p><img style="width:600px;" src="'+u+'" alt="Set authentication to Google"><p>Select <strong>ON for everyone</strong> and click <strong>SAVE</strong>. Now navigate back to the Configuration dialog by clicking &quot;Federated Directory&quot; in the breadcrumbs:</p><img style="width:600px;" src="'+y+'" alt="Breadcrumbs"><p>Click <strong>Configure auto-provisioning</strong> in the &quot;Auto-provisioning&quot; pane.</p><img style="width:600px;" src="'+t+'" alt="Configured app"><p>Enter an access token from a <strong>directory API key</strong> and select <strong>CONTINUE</strong>. If you don&#39;t know how to create such a directory API key in Federated Directory, please see these <a href="./directories#directory-keys">instructions</a></p><img style="width:600px;" src="'+f+'" alt="Federated Directory edit screen"><p>On the &quot;Map attributes&quot; screen, set the mapping to the correct values.</p><img style="width:600px;" src="'+w+'" alt="Mapping dialog"><p>Compare values in the screen with these:</p><table tabindex="0"><thead><tr><th>Google directory attributes</th><th style="text-align:center;">App attributes</th></tr></thead><tbody><tr><td>Country</td><td style="text-align:center;">addresses.country</td></tr><tr><td>Address &gt; Locality</td><td style="text-align:center;">addresses.locality</td></tr><tr><td>Address &gt; Is primary</td><td style="text-align:center;">addresses.primary</td></tr><tr><td>Address &gt; Region</td><td style="text-align:center;">addresses.region</td></tr><tr><td>Address &gt; Value</td><td style="text-align:center;">addresses.streetAddress</td></tr><tr><td>Additional Details &gt; Formatted name</td><td style="text-align:center;">displayName</td></tr><tr><td>Email &gt; Is primary</td><td style="text-align:center;">email.primary</td></tr><tr><td>Email &gt; Type</td><td style="text-align:center;">emails.type</td></tr><tr><td>Email &gt; Value</td><td style="text-align:center;">emails.value</td></tr><tr><td>Basic Information &gt; Last name</td><td style="text-align:center;">name.familyName</td></tr><tr><td>Basic Information &gt; First name</td><td style="text-align:center;">name.givenName</td></tr><tr><td>-</td><td style="text-align:center;">nickName</td></tr><tr><td>Phone &gt; Is primary</td><td style="text-align:center;">phoneNumbers.primary</td></tr><tr><td>Phone &gt; Value</td><td style="text-align:center;">phoneNumbers.value</td></tr><tr><td>Additional Details &gt; Website URL</td><td style="text-align:center;">profileUrl</td></tr><tr><td>Employee Details &gt; Title</td><td style="text-align:center;">title</td></tr><tr><td>Employee Details &gt; Department</td><td style="text-align:center;">urn:ietf:params:scim:schemas:extension:enterprise:2.0:User.department</td></tr><tr><td>Basic Information &gt; Username</td><td style="text-align:center;">userName</td></tr><tr><td>Employee Details &gt; Type</td><td style="text-align:center;">userType</td></tr></tbody></table><p>Click <strong>CONTINUE</strong></p><img style="width:600px;" src="'+k+'" alt="Set provisioning scope"><p>If you want, you can limit the scope of users that will be provisioned to your Federated Directory. A scope is not required, click <strong>CONTINUE</strong></p><img style="width:600px;" src="'+b+'" alt="Set deprovisioning"><p>Choose the &quot;Deprovisoning&quot; options that you think are appropriate for your company and click <strong>FINISH</strong></p><img style="width:600px;" src="'+_+'" alt="provisioning active"><p>Now it&#39;s time to turn on provisioning by switching the state from the &quot;Inactive&quot; to &quot;Active&quot;. When you click <strong>Inactive</strong> switch, you will get a consent dialog</p><img style="width:600px;" src="'+x+'" alt="Consent dialog"><p>Click <strong>TURN ON</strong> and you&#39;re good to go. Google will now start provisioning users to your Federated Directory.</p><h2 id="troubleshooting" tabindex="-1">Troubleshooting <a class="header-anchor" href="#troubleshooting" aria-label="Permalink to &quot;Troubleshooting&quot;">​</a></h2><p>Whenever you don&#39;t get the expected results go to the Federated Directory app in your Google Admin console. You will see the provisioning results on the &#39;auto-provisioning&#39; card.</p><img style="width:600px;" src="'+D+'" alt="Troubleshoot"><p>View the sync log or download the list with provisioning failures. Alternatively, you can always contact us at <a href="mailto:help@federated.directory">help@federated.directory</a>.</p>',66)])])}const T=o(v,[["render",G]]);export{C as __pageData,T as default};
