<!DOCTYPE html> <html lang="en-US"> <head> <meta charset="UTF-8"> <meta http-equiv="X-UA-Compatible" content="IE=Edge"> <title>Integrate with OIDC - Federated Directory</title> <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"> <link rel="stylesheet" href="/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=G-5FT2Y1PF6Z"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', 'G-5FT2Y1PF6Z', { 'anonymize_ip': true }); </script> <script type="text/javascript" src="/assets/js/vendor/lunr.min.js"></script> <script type="text/javascript" src="/assets/js/just-the-docs.js"></script> <meta name="viewport" content="width=device-width, initial-scale=1"> <!-- Begin Jekyll SEO tag v2.8.0 --> <title>Integrate with OIDC | Federated Directory</title> <meta name="generator" content="Jekyll v4.2.2" /> <meta property="og:title" content="Integrate with OIDC" /> <meta property="og:locale" content="en_US" /> <link rel="canonical" href="https://help.federated.directory/administrator/oidc.html" /> <meta property="og:url" content="https://help.federated.directory/administrator/oidc.html" /> <meta property="og:site_name" content="Federated Directory" /> <meta property="og:type" content="website" /> <meta name="twitter:card" content="summary" /> <meta property="twitter:title" content="Integrate with OIDC" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebPage","headline":"Integrate with OIDC","url":"https://help.federated.directory/administrator/oidc.html"}</script> <!-- End Jekyll SEO tag --> </head> <body> <svg xmlns="http://www.w3.org/2000/svg" style="display: none;"> <symbol id="svg-link" viewBox="0 0 24 24"> <title>Link</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"> <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"> <title>Search</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"> <title>Menu</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"> <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"> <title>Expand</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"> <polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"> <title>Document</title> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"> <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> </svg> <div class="side-bar"> <div class="site-header"> <a href="https://help.federated.directory/" class="site-title lh-tight"><div class=site-logo> <!-- <img alt="logo" src="/assets/images/FederatedDirectory_logo.svg"> --> </div> <!-- Cloudflare Web Analytics --> <script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "0fcf87fd8af848d6abbe256323c53378"}'></script><!-- End Cloudflare Web Analytics --></a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a> </div> <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav"> <ul class="nav-list"><li class="nav-list-item"><a href="https://help.federated.directory/" class="nav-list-link">Home</a></li><li class="nav-list-item"><a href="https://help.federated.directory/getting-started.html" class="nav-list-link">Getting started</a></li><li class="nav-list-item"><a href="https://help.federated.directory/login.html" class="nav-list-link">Login</a></li><li class="nav-list-item"><a href="https://help.federated.directory/search.html" class="nav-list-link">Search</a></li><li class="nav-list-item"><a href="https://help.federated.directory/myaccount.html" class="nav-list-link">My Account</a></li><li class="nav-list-item"><a href="https://help.federated.directory/groups.html" class="nav-list-link">Groups</a></li><li class="nav-list-item"><a href="https://help.federated.directory/outlook-add-in.html" class="nav-list-link">Microsoft Outlook add-in</a></li><li class="nav-list-item"><a href="https://help.federated.directory/teams-app.html" class="nav-list-link">Microsoft Teams app</a></li><li class="nav-list-item active"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://help.federated.directory/administrator/administrator.html" class="nav-list-link">Administrator</a><ul class="nav-list "><li class="nav-list-item "><a href="https://help.federated.directory/administrator/company.html" class="nav-list-link">Company</a></li><li class="nav-list-item "><a href="https://help.federated.directory/administrator/directories.html" class="nav-list-link">Directories</a></li><li class="nav-list-item "><a href="https://help.federated.directory/administrator/integrations.html" class="nav-list-link">Integrations</a></li><li class="nav-list-item "><a href="https://help.federated.directory/administrator/auditlogs.html" class="nav-list-link">Audit logs</a></li><li class="nav-list-item "><a href="https://help.federated.directory/administrator/google.html" class="nav-list-link">Integrate with Google</a></li><li class="nav-list-item "><a href="https://help.federated.directory/administrator/microsoft.html" class="nav-list-link">Integrate with Microsoft</a></li><li class="nav-list-item "><a href="https://help.federated.directory/administrator/okta.html" class="nav-list-link">Integrate with Okta</a></li><li class="nav-list-item "><a href="https://help.federated.directory/administrator/onelogin.html" class="nav-list-link">Integrate with OneLogin</a></li><li class="nav-list-item active"><a href="https://help.federated.directory/administrator/oidc.html" class="nav-list-link active">Integrate with OIDC</a></li><li class="nav-list-item "><a href="https://help.federated.directory/administrator/saml.html" class="nav-list-link">Integrate with SAML 2.0</a></li><li class="nav-list-item "><a href="https://help.federated.directory/administrator/scim.html" class="nav-list-link">Integrate with SCIM 2.0</a></li></ul></li><li class="nav-list-item"><a href="#" class="nav-list-expander"><svg viewBox="0 0 24 24"><use xlink:href="#svg-arrow-right"></use></svg></a><a href="https://help.federated.directory/developer/developer.html" class="nav-list-link">Developer</a><ul class="nav-list "><li class="nav-list-item "><a href="https://help.federated.directory/developer/getting-started.html" class="nav-list-link">Getting started</a></li><li class="nav-list-item "><a href="https://help.federated.directory/developer/obtaining-a-token.html" class="nav-list-link">Obtaining a token</a></li><li class="nav-list-item "><a href="https://help.federated.directory/developer/users-api.html" class="nav-list-link">Users API</a></li><li class="nav-list-item "><a href="https://help.federated.directory/developer/design-principles.html" class="nav-list-link">Design Principles</a></li></ul></li><li class="nav-list-item"><a href="https://help.federated.directory/contact-us.html" class="nav-list-link">Contact Us</a></li></ul> </nav> <footer class="site-footer"> This site uses <a href="https://github.com/pmarsceill/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll. </footer> </div> <div class="main" id="top"> <div id="main-header" class="main-header"> <div class="search"> <div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Federated Directory" aria-label="Search Federated Directory" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label> </div> <div id="search-results" class="search-results"></div> </div> </div> <div id="main-content-wrap" class="main-content-wrap"> <nav aria-label="Breadcrumb" class="breadcrumb-nav"> <ol class="breadcrumb-nav-list"> <li class="breadcrumb-nav-list-item"><a href="https://help.federated.directory/administrator/administrator.html">Administrator</a></li> <li class="breadcrumb-nav-list-item"><span>Integrate with OIDC</span></li> </ol> </nav> <div id="main-content" class="main-content" role="main"> <h1 id="integrate-with-openid-connect"> <a href="#integrate-with-openid-connect" class="anchor-heading" aria-labelledby="integrate-with-openid-connect"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Integrate with OpenID Connect </h1> <p>OpenID Connect-based single sign-on (SSO) gives your users access to Federated Directory through an identity provider (IDP) of your choice.</p> <h2 id="authentication"> <a href="#authentication" class="anchor-heading" aria-labelledby="authentication"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Authentication </h2> <p>If your identity provider of choice does not have a ready made integration with us, you have the option to use a custom OpenID Connect connection. Federated Directory uses the OpenID Connect ‘Authorization Code Flow’.</p> <p>Enabling this, is as easy as selecting <code class="language-plaintext highlighter-rouge">OpenID Connect</code> from the authentication settings on a directory.</p> <p><img style="width: 40px; display:inline;" src="../../assets/images/directories-introduction-oidc.svg" alt="Connect your own IDP through a OpenID Connect connection" /></p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">Input</th> <th style="text-align: left">Description</th> <th> </th> </tr> </thead> <tbody> <tr> <td style="text-align: left">Configuration URL</td> <td style="text-align: left">Required. A link to a JSON document with key information needed for an app to sign in. It includes URLs and the location of public signing keys. It’s typically found at the issuer’s URL, appended with /.well-known/openid-configuration.</td> <td> </td> </tr> <tr> <td style="text-align: left">Client ID</td> <td style="text-align: left">Required. The client ID obtained from your identity provider.</td> <td> </td> </tr> <tr> <td style="text-align: left">Client Secret</td> <td style="text-align: left">Required. The client secret obtained from your identity provider.</td> <td> </td> </tr> <tr> <td style="text-align: left">Logout page URL</td> <td style="text-align: left">Optional. Your users will be redirected to this URL after they log out.</td> <td> </td> </tr> <tr> <td style="text-align: left"> </td> <td style="text-align: left"> </td> <td> </td> </tr> </tbody> </table></div> <p>During the authentication process we map the users username (<code class="language-plaintext highlighter-rouge">preferred_username</code>) with the <code class="language-plaintext highlighter-rouge">userName</code> of this user within our directory. We only allow access to those users we already know. First we will look for the <code class="language-plaintext highlighter-rouge">preferred_username</code> in the <code class="language-plaintext highlighter-rouge">id_token</code>. Incase it is not present in the <code class="language-plaintext highlighter-rouge">id_token</code>, we will look for the <code class="language-plaintext highlighter-rouge">preferred_username</code> in the <code class="language-plaintext highlighter-rouge">userinfo</code> which we will retrieve at your IDP.</p> <p>Make sure the users username is unique.</p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left"> </th> <th style="text-align: center">In id_token or userinfo</th> <th style="text-align: center">Federated Directory</th> </tr> </thead> <tbody> <tr> <td style="text-align: left">Attribute</td> <td style="text-align: center">preferred_username</td> <td style="text-align: center">userName ️️</td> </tr> </tbody> </table></div> <h3 id="parameters"> <a href="#parameters" class="anchor-heading" aria-labelledby="parameters"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Parameters </h3> <p>Follow these parameters to configure the OpenID Connect within your IDP:</p> <div class="table-wrapper"><table> <thead> <tr> <th style="text-align: left">Parameter</th> <th style="text-align: left">Description</th> </tr> </thead> <tbody> <tr> <td style="text-align: left">Login flows</td> <td style="text-align: left">We support the Authorization Code Flow.</td> </tr> <tr> <td style="text-align: left">Redirect URI</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">https://api.federated.directory/v2/Login/Oidc/Callback</code></td> </tr> <tr> <td style="text-align: left">Response Type</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">code</code></td> </tr> <tr> <td style="text-align: left">Scope</td> <td style="text-align: left"><code class="language-plaintext highlighter-rouge">openid profile email</code></td> </tr> <tr> <td style="text-align: left">State</td> <td style="text-align: left">Expected back in the response.</td> </tr> <tr> <td style="text-align: left">Nonce</td> <td style="text-align: left">Expected back in the response.</td> </tr> <tr> <td style="text-align: left">Login_hint</td> <td style="text-align: left">Optionally included in the request and can used by your IDP to simplify the authentication flow. Only when we already received a userName through another authentication method.</td> </tr> </tbody> </table></div> <p>Your IDP must ensure a user is both authenticated and authorized before sending an authorization code.</p><hr /> <h3 id="openid-connect-request-example"> <a href="#openid-connect-request-example" class="anchor-heading" aria-labelledby="openid-connect-request-example"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> OpenID Connect Request example </h3> <div class="language-http highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">GET authorize?client_id=2631c0c9-7a52-4df0-a4e4-340689fa6864&amp;scope=openid profile email&amp;response_type=code&amp;redirect_uri=https://api.federated.directory/v2/Login/Oidc/Callback&amp;state=n-4bv08jPXPOfupMRa-HGm7ZwmVmV5u0tm4JXLV3JPg&amp;nonce=6JIXPp_oBEWII8fX-ODmRDM8hkFWHNvuQOkcjLTwa7I
</span></code></pre></div></div> <hr> <footer> Copyright &copy; 2024 <a href="https://www.federated.directory">Federated Directory</a>. </footer> </div> </div> <div class="search-overlay"></div> </div> </body> </html>
