{
  "version": 3,
  "sources": ["../../src/migrations/generate-types.ts"],
  "sourcesContent": ["import { writeFile } from 'node:fs'\nimport { cookieSchema } from '@/entities/cookie/cookie'\nimport { environmentSchema } from '@/entities/environment/environment'\nimport { collectionSchema } from '@/entities/spec/collection'\nimport { requestExampleSchema } from '@/entities/spec/request-examples'\nimport { requestSchema } from '@/entities/spec/requests'\nimport { serverSchema } from '@/entities/spec/server'\nimport { tagSchema } from '@/entities/spec/spec-objects'\nimport { workspaceSchema } from '@/entities/workspace/workspace'\nimport { DATA_VERSION } from '@/migrations/data-version'\nimport { securitySchemeSchema } from '@scalar/types/entities'\nimport { createTypeAlias, printNode, zodToTs } from 'zod-to-ts'\n\nconsole.warn('Make sure the generate types file is updated for the current version')\nconsole.info('Generating...')\n\nconst entities = [\n  { identifier: 'Collection', schema: collectionSchema },\n  { identifier: 'Cookie', schema: cookieSchema },\n  { identifier: 'Environment', schema: environmentSchema },\n  { identifier: 'Tag', schema: tagSchema },\n  { identifier: 'RequestExample', schema: requestExampleSchema },\n  { identifier: 'Request', schema: requestSchema },\n  { identifier: 'SecurityScheme', schema: securitySchemeSchema },\n  { identifier: 'Server', schema: serverSchema },\n  { identifier: 'Workspace', schema: workspaceSchema },\n]\n\n/**\n * Export the types in a namespace\n * TODO:\n * - go back to typescript compiler api and print pretty types as these ones are optional\n */\nlet typeString = entities.reduce(\n  (prev, { identifier, schema }) => {\n    const { node } = zodToTs(schema, identifier)\n    const typeAlias = createTypeAlias(node, identifier)\n    const nodeString = '  export ' + printNode(typeAlias) + '\\n\\n'\n    return prev + nodeString\n  },\n  `export namespace v_${DATA_VERSION.replace(/\\./g, '_')} {\\n`,\n)\n\n// Add all types data object\ntypeString += `\n  export type DataRecord = { \n    collections: Record<string, Collection>\n    cookies: Record<string, Cookie>\n    environments: Record<string, Environment>\n    requestExamples: Record<string, RequestExample>\n    requests: Record<string, Request>\n    securitySchemes: Record<string, SecurityScheme>\n    servers: Record<string, Server>\n    tags: Record<string, Tag>\n    workspaces: Record<string, Workspace>\n  }\n}\n`\n\n// Write to file\nwriteFile(__dirname + `/v-${DATA_VERSION}/types.generated.ts`, typeString, { flag: 'w' }, (err) =>\n  err ? console.error(err) : console.log('Generation complete!'),\n)\n"],
  "mappings": "AAAA,SAAS,iBAAiB;AAC1B,SAAS,oBAAoB;AAC7B,SAAS,yBAAyB;AAClC,SAAS,wBAAwB;AACjC,SAAS,4BAA4B;AACrC,SAAS,qBAAqB;AAC9B,SAAS,oBAAoB;AAC7B,SAAS,iBAAiB;AAC1B,SAAS,uBAAuB;AAChC,SAAS,oBAAoB;AAC7B,SAAS,4BAA4B;AACrC,SAAS,iBAAiB,WAAW,eAAe;AAEpD,QAAQ,KAAK,sEAAsE;AACnF,QAAQ,KAAK,eAAe;AAE5B,MAAM,WAAW;AAAA,EACf,EAAE,YAAY,cAAc,QAAQ,iBAAiB;AAAA,EACrD,EAAE,YAAY,UAAU,QAAQ,aAAa;AAAA,EAC7C,EAAE,YAAY,eAAe,QAAQ,kBAAkB;AAAA,EACvD,EAAE,YAAY,OAAO,QAAQ,UAAU;AAAA,EACvC,EAAE,YAAY,kBAAkB,QAAQ,qBAAqB;AAAA,EAC7D,EAAE,YAAY,WAAW,QAAQ,cAAc;AAAA,EAC/C,EAAE,YAAY,kBAAkB,QAAQ,qBAAqB;AAAA,EAC7D,EAAE,YAAY,UAAU,QAAQ,aAAa;AAAA,EAC7C,EAAE,YAAY,aAAa,QAAQ,gBAAgB;AACrD;AAOA,IAAI,aAAa,SAAS;AAAA,EACxB,CAAC,MAAM,EAAE,YAAY,OAAO,MAAM;AAChC,UAAM,EAAE,KAAK,IAAI,QAAQ,QAAQ,UAAU;AAC3C,UAAM,YAAY,gBAAgB,MAAM,UAAU;AAClD,UAAM,aAAa,cAAc,UAAU,SAAS,IAAI;AACxD,WAAO,OAAO;AAAA,EAChB;AAAA,EACA,sBAAsB,aAAa,QAAQ,OAAO,GAAG,CAAC;AAAA;AACxD;AAGA,cAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAgBd;AAAA,EAAU,YAAY,MAAM,YAAY;AAAA,EAAuB;AAAA,EAAY,EAAE,MAAM,IAAI;AAAA,EAAG,CAAC,QACzF,MAAM,QAAQ,MAAM,GAAG,IAAI,QAAQ,IAAI,sBAAsB;AAC/D;",
  "names": []
}
