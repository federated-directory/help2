function schemaModel(data, schema, throwError = true) {
    if (throwError) {
        const result = schema.safeParse(data);
        if (!result.success) {
            console.error('Zod Schema Error');
            console.group();
            result.error.issues.forEach((issue) => {
                console.log(`Path: ${issue.path.join(', ')} \nError: ${issue.message}`);
            });
            console.groupEnd();
            throw new Error('Zod validation failure');
        }
        return result.data;
    }
    else {
        const res = schema.safeParse(data);
        return res.success ? res.data : null;
    }
}

export { schemaModel };
