{
  "version": 3,
  "sources": ["../../../src/entities/spec/request-examples.ts"],
  "sourcesContent": ["import { isDefined } from '@scalar/helpers/array/is-defined'\nimport { objectKeys } from '@scalar/helpers/object/object-keys'\nimport { keysOf } from '@scalar/object-utils/arrays'\nimport { type ENTITY_BRANDS, nanoidSchema } from '@scalar/types/utils'\nimport { z } from 'zod'\n\nimport { schemaModel } from '@/helpers/schema-model'\nimport { getRequestBodyFromOperation } from '@/spec-getters/get-request-body-from-operation'\nimport { getServerVariableExamples } from '@/spec-getters/get-server-variable-examples'\n\nimport type { ParameterContent, RequestParameter } from './parameters'\nimport type { Request } from './requests'\nimport type { Server } from './server'\n\n// ---------------------------------------------------------------------------\n// Example Parameters\n\n/**\n * TODO: Deprecate this.\n *\n * The request schema should be stored in the request and any\n * parameters should be validated against that\n */\nexport const requestExampleParametersSchema = z\n  .object({\n    key: z.string().default(''),\n    value: z.coerce.string().default(''),\n    enabled: z.boolean().default(true),\n    file: z.any().optional(),\n    description: z.string().optional(),\n    required: z.boolean().optional(),\n    enum: z.array(z.string()).optional(),\n    examples: z.array(z.any()).optional(),\n    type: z\n      .union([\n        // 'string'\n        z.string(),\n        // ['string', 'null']\n        z.array(z.string()),\n      ])\n      .optional(),\n    format: z.string().optional(),\n    minimum: z.number().optional(),\n    maximum: z.number().optional(),\n    default: z.any().optional(),\n    nullable: z.boolean().optional(),\n  })\n  // set nullable: to true if type is ['string', 'null']\n  .transform((_data) => {\n    const data = { ..._data }\n\n    // type: ['string', 'null'] -> nullable: true\n    if (Array.isArray(data.type) && data.type.includes('null')) {\n      data.nullable = true\n    }\n\n    // Hey, if it's just one value and 'null', we can make it a string and ditch the 'null'.\n    if (Array.isArray(data.type) && data.type.length === 2 && data.type.includes('null')) {\n      data.type = data.type.find((item) => item !== 'null')\n    }\n\n    return data\n  })\n\n/** Convert the array of parameters to an object keyed by the parameter name */\nexport const parameterArrayToObject = (params: RequestExampleParameter[]) =>\n  params.reduce<Record<string, string>>((map, param) => {\n    map[param.key] = param.value\n    return map\n  }, {})\n\n/** Request examples - formerly known as instances - are \"children\" of requests */\nexport type RequestExampleParameter = z.infer<typeof requestExampleParametersSchema>\n\nconst xScalarFileValueSchema = z\n  .object({\n    url: z.string(),\n    base64: z.string().optional(),\n  })\n  .nullable()\n\n/**\n * When files are required for an example we provide the options\n * to provide a public URL or a base64 encoded string\n */\n// not used but kept for consistency\n// export type XScalarFileValue = z.infer<typeof xScalarFileValueSchema>\n\n/**\n * Schema for the OAS serialization of request example parameters\n *\n * File values can be optionally fetched on import OR inserted as a base64 encoded string\n */\nconst xScalarFormDataValue = z.union([\n  z.object({\n    type: z.literal('string'),\n    value: z.string(),\n  }),\n  z.object({\n    type: z.literal('file'),\n    file: xScalarFileValueSchema,\n  }),\n])\n\ntype XScalarFormDataValue = z.infer<typeof xScalarFormDataValue>\n\n// ---------------------------------------------------------------------------\n// Example Body\n\n/**\n * Possible encodings for example request bodies when using text formats\n *\n * TODO: This list may not be comprehensive enough\n */\nconst exampleRequestBodyEncoding = ['json', 'text', 'html', 'javascript', 'xml', 'yaml', 'edn'] as const\n\ntype BodyEncoding = (typeof exampleRequestBodyEncoding)[number]\n\nconst exampleBodyMime = [\n  'application/json',\n  'text/plain',\n  'text/html',\n  'application/javascript',\n  'application/xml',\n  'application/yaml',\n  'application/edn',\n  'application/octet-stream',\n  'application/x-www-form-urlencoded',\n  'multipart/form-data',\n  /** Used for direct files */\n  'binary',\n] as const\n\ntype BodyMime = (typeof exampleBodyMime)[number]\n\nconst contentMapping: Record<BodyEncoding, BodyMime> = {\n  json: 'application/json',\n  text: 'text/plain',\n  html: 'text/html',\n  javascript: 'application/javascript',\n  xml: 'application/xml',\n  yaml: 'application/yaml',\n  edn: 'application/edn',\n} as const\n\n/**\n * TODO: Migrate away from this layout to the format used in the extension\n *\n * If a user changes the encoding of the body we expect the content to change as well\n */\nconst exampleRequestBodySchema = z.object({\n  raw: z\n    .object({\n      encoding: z.enum(exampleRequestBodyEncoding),\n      value: z.string().default(''),\n      mimeType: z.string().optional(),\n    })\n    .optional(),\n  formData: z\n    .object({\n      encoding: z.union([z.literal('form-data'), z.literal('urlencoded')]).default('form-data'),\n      value: requestExampleParametersSchema.array().default([]),\n    })\n    .optional(),\n  binary: z.instanceof(Blob).optional(),\n  activeBody: z.union([z.literal('raw'), z.literal('formData'), z.literal('binary')]).default('raw'),\n})\n\ntype ExampleRequestBody = z.infer<typeof exampleRequestBodySchema>\n\n/** Schema for the OAS serialization of request example bodies */\nconst xScalarExampleBodySchema = z.object({\n  encoding: z.enum(exampleBodyMime),\n  /**\n   * Body content as an object with a separately specified encoding or a simple pre-encoded string value\n   *\n   * Ideally we would convert any objects into the proper encoding on import\n   */\n  content: z.union([z.record(z.string(), z.any()), z.string()]),\n  /** When the encoding is `binary` this will be used to link to the file */\n  file: xScalarFileValueSchema.optional(),\n})\n\ntype XScalarExampleBody = z.infer<typeof xScalarExampleBodySchema>\n\n// ---------------------------------------------------------------------------\n// Example Schema\n\nexport const requestExampleSchema = z.object({\n  uid: nanoidSchema.brand<ENTITY_BRANDS['EXAMPLE']>(),\n  type: z.literal('requestExample').optional().default('requestExample'),\n  requestUid: z.string().brand<ENTITY_BRANDS['OPERATION']>().optional(),\n  name: z.string().optional().default('Name'),\n  body: exampleRequestBodySchema.optional().default({ activeBody: 'raw' }),\n  parameters: z\n    .object({\n      path: requestExampleParametersSchema.array().default([]),\n      query: requestExampleParametersSchema.array().default([]),\n      headers: requestExampleParametersSchema.array().default([{ key: 'Accept', value: '*/*', enabled: true }]),\n      cookies: requestExampleParametersSchema.array().default([]),\n    })\n    .optional()\n    .default({\n      path: [],\n      query: [],\n      headers: [{ key: 'Accept', value: '*/*', enabled: true }],\n      cookies: [],\n    }),\n  /** TODO: Should this be deprecated? */\n  serverVariables: z.record(z.string(), z.array(z.string())).optional(),\n})\n\nexport type RequestExample = z.infer<typeof requestExampleSchema>\n\n/** For OAS serialization we just store the simple key/value pairs */\nconst xScalarExampleParameterSchema = z.record(z.string(), z.string()).optional()\n\n/** Schema for the OAS serialization of request examples */\nexport const xScalarExampleSchema = z.object({\n  /** TODO: Should this be required? */\n  name: z.string().optional(),\n  body: xScalarExampleBodySchema.optional(),\n  parameters: z.object({\n    path: xScalarExampleParameterSchema,\n    query: xScalarExampleParameterSchema,\n    headers: xScalarExampleParameterSchema,\n    cookies: xScalarExampleParameterSchema,\n  }),\n})\n\ntype XScalarExample = z.infer<typeof xScalarExampleSchema>\n\n/**\n * Convert a request example to the xScalar serialized format\n *\n * TODO: The base format should be migrated to align MUCH closer to the serialized format\n */\nexport function convertExampleToXScalar(example: RequestExample) {\n  const active = example.body?.activeBody\n\n  const xScalarBody: XScalarExampleBody = {\n    encoding: 'text/plain',\n    content: '',\n  }\n\n  if (example.body?.activeBody === 'binary') {\n    xScalarBody.encoding = 'binary'\n    // TODO: Need to allow users to set these properties\n    xScalarBody.file = null\n  }\n\n  if (active === 'formData' && example.body?.[active]) {\n    const body = example.body[active]\n    xScalarBody.encoding = body.encoding === 'form-data' ? 'multipart/form-data' : 'application/x-www-form-urlencoded'\n\n    // TODO: Need to allow users to set these properties\n    xScalarBody.content = body.value.reduce<Record<string, XScalarFormDataValue>>((map, param) => {\n      /** TODO: We need to ensure only file or value is set */\n      map[param.key] = param.file\n        ? {\n            type: 'file',\n            file: null,\n          }\n        : {\n            type: 'string',\n            value: param.value,\n          }\n      return map\n    }, {})\n  }\n\n  if (example.body?.activeBody === 'raw') {\n    xScalarBody.encoding = contentMapping[example.body.raw?.encoding ?? 'text'] ?? 'text/plain'\n\n    xScalarBody.content = example.body.raw?.value ?? ''\n  }\n\n  const parameters: XScalarExample['parameters'] = {}\n\n  keysOf(example.parameters ?? {}).forEach((key) => {\n    if (example.parameters?.[key].length) {\n      parameters[key] = parameterArrayToObject(example.parameters[key])\n    }\n  })\n\n  return xScalarExampleSchema.parse({\n    /** Only add the body if we have content or the body should be a file */\n    body: xScalarBody.content || xScalarBody.encoding === 'binary' ? xScalarBody : undefined,\n    parameters,\n  })\n}\n\n// ---------------------------------------------------------------------------\n// Example Helpers\n\n/** Create new instance parameter from a request parameter */\nexport function createParamInstance(param: RequestParameter): RequestExampleParameter {\n  const schema = param.schema as any\n\n  const firstExample = (() => {\n    if (param.examples && !Array.isArray(param.examples) && objectKeys(param.examples).length > 0) {\n      const exampleValues = Object.entries(param.examples).map(([_, example]) => {\n        // returns the external value if it exists\n        if (example.externalValue) {\n          return example.externalValue\n        }\n\n        // returns the value if it exists and is defined\n        // e.g. { examples: { foo: { value: 'bar' } } } would return ['bar']\n        return example.value\n      })\n\n      // returns the first example as selected value along other examples\n      return { value: exampleValues[0], examples: exampleValues }\n    }\n\n    // param example e.g. { example: 'foo' }\n    if (isDefined(param.example)) {\n      return { value: param.example }\n    }\n\n    // param examples e.g. { examples: ['foo', 'bar'] }\n    if (Array.isArray(param.examples) && param.examples.length > 0) {\n      return { value: param.examples[0] }\n    }\n\n    // schema example e.g. { example: 'foo' } while being discouraged\n    // see https://spec.openapis.org/oas/v3.1.1.html#fixed-fields-20\n    if (isDefined(schema?.example)) {\n      return { value: schema.example }\n    }\n\n    // schema examples e.g. { examples: ['foo', 'bar'] }\n    if (Array.isArray(schema?.examples) && schema.examples.length > 0) {\n      // For boolean type, default to false when using schema examples\n      if (schema?.type === 'boolean') {\n        return { value: schema.default ?? false }\n      }\n      return { value: schema.examples[0] }\n    }\n\n    // content examples e.g. { content: { 'application/json': { examples: { foo: { value: 'bar' } } } } }\n    if (param.content) {\n      const firstContentType = objectKeys(param.content)[0]\n      if (firstContentType) {\n        const content = (param.content as ParameterContent)[firstContentType]\n        if (content?.examples) {\n          const firstExampleKey = Object.keys(content.examples)[0]\n          if (firstExampleKey) {\n            const example = content.examples[firstExampleKey]\n            if (isDefined(example?.value)) {\n              return { value: example.value }\n            }\n          }\n        }\n        // content example e.g. { example: 'foo' }\n        if (isDefined(content?.example)) {\n          return { value: content.example }\n        }\n      }\n    }\n\n    return null\n  })() as null | { value: any; examples?: string[] }\n\n  /**\n   * TODO:\n   * - Need better value defaulting here\n   * - Need to handle non-string parameters much better\n   * - Need to handle unions/array values for schema\n   */\n  const value = String(firstExample?.value ?? schema?.default ?? '')\n\n  // Handle non-string enums and enums within items for array types\n  const parseEnum = (() => {\n    if (schema?.enum && schema?.type !== 'string') {\n      return schema.enum?.map(String)\n    }\n\n    if (schema?.items?.enum && schema?.type === 'array') {\n      return schema.items.enum.map(String)\n    }\n\n    return schema?.enum\n  })()\n\n  // Handle parameter examples\n  const examples =\n    firstExample?.examples ||\n    (schema?.examples && schema?.type !== 'string' ? schema.examples?.map(String) : schema?.examples)\n\n  // safe parse the example\n  const example = schemaModel(\n    {\n      ...schema,\n      key: param.name,\n      value,\n      description: param.description,\n      required: param.required,\n      /** Initialized all required properties to enabled */\n      enabled: !!param.required,\n      enum: parseEnum,\n      examples,\n    },\n    requestExampleParametersSchema,\n    false,\n  )\n\n  if (!example) {\n    console.warn(`Example at ${param.name} is invalid.`)\n    return requestExampleParametersSchema.parse({})\n  }\n\n  return example\n}\n\n/**\n * Create new request example from a request\n * Iterates the name of the example if provided\n */\nexport function createExampleFromRequest(request: Request, name: string, server?: Server): RequestExample {\n  // ---------------------------------------------------------------------------\n  // Populate all parameters with an example value\n  const parameters: Record<'path' | 'cookie' | 'header' | 'query' | 'headers', RequestExampleParameter[]> = {\n    path: [],\n    query: [],\n    cookie: [],\n    // deprecated TODO: add zod transform to remove\n    header: [],\n    headers: [{ key: 'Accept', value: '*/*', enabled: true }],\n  }\n\n  // Populated the separated params\n  request.parameters?.forEach((p) => parameters[p.in].push(createParamInstance(p)))\n\n  // TODO: add zod transform to remove header and only support headers\n  if (parameters.header.length > 0) {\n    parameters.headers = parameters.header\n    parameters.header = []\n  }\n\n  // Get content type header\n  const contentTypeHeader = parameters.headers.find((h) => h.key.toLowerCase() === 'content-type')\n\n  // ---------------------------------------------------------------------------\n  // Handle request body defaulting for various content type encodings\n  const body: ExampleRequestBody = {\n    activeBody: 'raw',\n  }\n\n  // If we have a request body or a content type header\n  // TODO: we don't even handle path parameters here\n  if (request.requestBody || contentTypeHeader?.value) {\n    const requestBody = getRequestBodyFromOperation(request)\n    const contentType = request.requestBody ? requestBody?.mimeType : contentTypeHeader?.value\n\n    // Handle JSON and JSON-like mimetypes\n    if (contentType?.includes('/json') || contentType?.endsWith('+json')) {\n      body.activeBody = 'raw'\n      body.raw = {\n        encoding: 'json',\n        mimeType: contentType,\n        value: requestBody?.text ?? JSON.stringify({}),\n      }\n    }\n\n    if (contentType === 'application/xml') {\n      body.activeBody = 'raw'\n      body.raw = {\n        encoding: 'xml',\n        value: requestBody?.text ?? '',\n      }\n    }\n\n    /**\n     *  TODO: Are we loading example files from somewhere based on the spec?\n     *  How are we handling the body values\n     */\n    if (contentType === 'application/octet-stream') {\n      body.activeBody = 'binary'\n      body.binary = undefined\n    }\n\n    if (contentType === 'application/x-www-form-urlencoded' || contentType === 'multipart/form-data') {\n      body.activeBody = 'formData'\n      body.formData = {\n        encoding: contentType === 'application/x-www-form-urlencoded' ? 'urlencoded' : 'form-data',\n        value: (requestBody?.params || []).map((param) => {\n          if (param.value instanceof File) {\n            return {\n              key: param.name,\n              value: 'BINARY',\n              file: param.value,\n              enabled: true,\n            }\n          }\n          return {\n            key: param.name,\n            value: param.value || '',\n            enabled: true,\n          }\n        }),\n      }\n    }\n\n    if (contentType?.startsWith('text/')) {\n      body.activeBody = 'raw'\n      body.raw = {\n        encoding: 'text',\n        value: requestBody?.text ?? '',\n      }\n    }\n\n    // Add the content-type header if it doesn't exist and if it's not multipart request\n    if (requestBody?.mimeType && !contentTypeHeader && !requestBody.mimeType.startsWith('multipart/')) {\n      parameters.headers.push({\n        key: 'Content-Type',\n        value: requestBody.mimeType,\n        enabled: true,\n      })\n    }\n  }\n\n  const serverVariables = server ? getServerVariableExamples(server) : {}\n\n  // safe parse the example\n  const example = schemaModel(\n    {\n      requestUid: request.uid,\n      parameters,\n      name,\n      body,\n      serverVariables,\n    },\n    requestExampleSchema,\n    false,\n  )\n\n  if (!example) {\n    console.warn(`Example at ${request.uid} is invalid.`)\n    return requestExampleSchema.parse({})\n  }\n  return example\n}\n"],
  "mappings": "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",
  "names": ["example"]
}
