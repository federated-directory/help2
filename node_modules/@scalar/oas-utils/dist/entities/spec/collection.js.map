{
  "version": 3,
  "sources": ["../../../src/entities/spec/collection.ts"],
  "sourcesContent": ["import { oasSecurityRequirementSchema } from '@scalar/types/entities'\nimport { type ENTITY_BRANDS, nanoidSchema } from '@scalar/types/utils'\nimport { z } from 'zod'\n\nimport { selectedSecuritySchemeUidSchema } from '@/entities/shared/utility'\nimport { xScalarEnvironmentsSchema } from '@/entities/spec/x-scalar-environments'\nimport { xScalarSecretsSchema } from '@/entities/spec/x-scalar-secrets'\n\nimport { oasExternalDocumentationSchema, oasInfoSchema } from './spec-objects'\n\nconst oasCollectionSchema = z.object({\n  /**\n   * @deprecated\n   * Needs to be remove as it is not a spec property\n   */\n  'type': z.literal('collection').optional().default('collection'),\n  'openapi': z\n    .union([z.string(), z.literal('3.0.0'), z.literal('3.1.0'), z.literal('4.0.0')])\n    .optional()\n    .default('3.1.0'),\n  'jsonSchemaDialect': z.string().optional(),\n  'info': oasInfoSchema.catch({\n    title: 'API',\n    version: '1.0',\n  }),\n  /**\n   * A declaration of which security mechanisms can be used across the API. The list of\n   * values includes alternative security requirement objects that can be used. Only\n   * one of the security requirement objects need to be satisfied to authorize a request.\n   * Individual operations can override this definition. To make security optional, an empty\n   * security requirement ({}) can be included in the array.\n   */\n  'security': z.array(oasSecurityRequirementSchema).optional().default([]),\n  'externalDocs': oasExternalDocumentationSchema.optional().catch(undefined),\n  /** TODO: Type these */\n  'components': z.record(z.string(), z.unknown()).optional(),\n  /** TODO: Type these */\n  'webhooks': z.record(z.string(), z.unknown()).optional(),\n  /** A custom icon representing the collection */\n  'x-scalar-icon': z.string().optional().default('interface-content-folder'),\n  'x-scalar-active-environment': z.string().optional(),\n  'x-scalar-environments': xScalarEnvironmentsSchema.optional(),\n  'x-scalar-secrets': xScalarSecretsSchema.optional(),\n  // These properties will be stripped out and mapped back as id lists\n  // servers\n  // paths/**\n  // servers\n  // tags\n  // security\n})\n\nconst extendedCollectionSchema = z.object({\n  uid: nanoidSchema.brand<ENTITY_BRANDS['COLLECTION']>(),\n  /** A list of security schemes UIDs associated with the collection */\n  securitySchemes: z.string().array().default([]),\n  /** List of currently selected security scheme UIDs, these can be overridden per request */\n  selectedSecuritySchemeUids: selectedSecuritySchemeUidSchema,\n  /** The currently selected server */\n  selectedServerUid: z.string().brand<ENTITY_BRANDS['SERVER']>().optional(),\n  /** UIDs which refer to servers on the workspace base */\n  servers: z.string().brand<ENTITY_BRANDS['SERVER']>().array().default([]),\n  /** Request UIDs associated with a collection */\n  requests: z.string().brand<ENTITY_BRANDS['OPERATION']>().array().default([]),\n  /** Tag UIDs associated with the collection */\n  tags: z.string().brand<ENTITY_BRANDS['TAG']>().array().default([]),\n  /** List of requests without tags and top level tag \"folders\" */\n  children: z\n    .union([z.string().brand<ENTITY_BRANDS['OPERATION']>(), z.string().brand<ENTITY_BRANDS['TAG']>()])\n    .array()\n    .default([]),\n  /**\n   * A link to where this document is stored\n   *\n   * - Used for watch mode\n   * - Possibly useful for Git sync down the line\n   */\n  documentUrl: z.string().optional(),\n  /**\n   * Enables polling of OpenAPI document urls\n   *\n   * @remarks Only effective when `documentUrl` is set\n   */\n  watchMode: z.boolean().optional().default(false),\n  /** Keeps track of which integration is associated with the specific collection */\n  integration: z.string().nullable().optional(),\n  /**\n   * Selected authentication will be set at the collection level instead of the request level\n   *\n   * @default false\n   */\n  useCollectionSecurity: z.boolean().optional().default(false),\n  /**\n   * Status of the watcher from above\n   *\n   * @defaults to idle for all collections, doesn't mean that it can watch for changes\n   */\n  watchModeStatus: z.enum(['IDLE', 'WATCHING', 'ERROR']).optional().default('IDLE'),\n})\n\nexport const collectionSchema = oasCollectionSchema.merge(extendedCollectionSchema)\nexport type Collection = z.infer<typeof collectionSchema>\nexport type CollectionPayload = z.input<typeof collectionSchema>\n"],
  "mappings": "AAAA,SAAS,oCAAoC;AAC7C,SAA6B,oBAAoB;AACjD,SAAS,SAAS;AAElB,SAAS,uCAAuC;AAChD,SAAS,iCAAiC;AAC1C,SAAS,4BAA4B;AAErC,SAAS,gCAAgC,qBAAqB;AAE9D,MAAM,sBAAsB,EAAE,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA,EAKnC,QAAQ,EAAE,QAAQ,YAAY,EAAE,SAAS,EAAE,QAAQ,YAAY;AAAA,EAC/D,WAAW,EACR,MAAM,CAAC,EAAE,OAAO,GAAG,EAAE,QAAQ,OAAO,GAAG,EAAE,QAAQ,OAAO,GAAG,EAAE,QAAQ,OAAO,CAAC,CAAC,EAC9E,SAAS,EACT,QAAQ,OAAO;AAAA,EAClB,qBAAqB,EAAE,OAAO,EAAE,SAAS;AAAA,EACzC,QAAQ,cAAc,MAAM;AAAA,IAC1B,OAAO;AAAA,IACP,SAAS;AAAA,EACX,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAQD,YAAY,EAAE,MAAM,4BAA4B,EAAE,SAAS,EAAE,QAAQ,CAAC,CAAC;AAAA,EACvE,gBAAgB,+BAA+B,SAAS,EAAE,MAAM,MAAS;AAAA;AAAA,EAEzE,cAAc,EAAE,OAAO,EAAE,OAAO,GAAG,EAAE,QAAQ,CAAC,EAAE,SAAS;AAAA;AAAA,EAEzD,YAAY,EAAE,OAAO,EAAE,OAAO,GAAG,EAAE,QAAQ,CAAC,EAAE,SAAS;AAAA;AAAA,EAEvD,iBAAiB,EAAE,OAAO,EAAE,SAAS,EAAE,QAAQ,0BAA0B;AAAA,EACzE,+BAA+B,EAAE,OAAO,EAAE,SAAS;AAAA,EACnD,yBAAyB,0BAA0B,SAAS;AAAA,EAC5D,oBAAoB,qBAAqB,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOpD,CAAC;AAED,MAAM,2BAA2B,EAAE,OAAO;AAAA,EACxC,KAAK,aAAa,MAAmC;AAAA;AAAA,EAErD,iBAAiB,EAAE,OAAO,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;AAAA;AAAA,EAE9C,4BAA4B;AAAA;AAAA,EAE5B,mBAAmB,EAAE,OAAO,EAAE,MAA+B,EAAE,SAAS;AAAA;AAAA,EAExE,SAAS,EAAE,OAAO,EAAE,MAA+B,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;AAAA;AAAA,EAEvE,UAAU,EAAE,OAAO,EAAE,MAAkC,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;AAAA;AAAA,EAE3E,MAAM,EAAE,OAAO,EAAE,MAA4B,EAAE,MAAM,EAAE,QAAQ,CAAC,CAAC;AAAA;AAAA,EAEjE,UAAU,EACP,MAAM,CAAC,EAAE,OAAO,EAAE,MAAkC,GAAG,EAAE,OAAO,EAAE,MAA4B,CAAC,CAAC,EAChG,MAAM,EACN,QAAQ,CAAC,CAAC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOb,aAAa,EAAE,OAAO,EAAE,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMjC,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,KAAK;AAAA;AAAA,EAE/C,aAAa,EAAE,OAAO,EAAE,SAAS,EAAE,SAAS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAM5C,uBAAuB,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,KAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAM3D,iBAAiB,EAAE,KAAK,CAAC,QAAQ,YAAY,OAAO,CAAC,EAAE,SAAS,EAAE,QAAQ,MAAM;AAClF,CAAC;AAEM,MAAM,mBAAmB,oBAAoB,MAAM,wBAAwB;",
  "names": []
}
