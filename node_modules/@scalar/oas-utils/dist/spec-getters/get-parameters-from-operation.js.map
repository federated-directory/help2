{
  "version": 3,
  "sources": ["../../src/spec-getters/get-parameters-from-operation.ts"],
  "sourcesContent": ["import type { OpenAPIV3_1 } from '@scalar/openapi-types'\n\nimport type { Operation } from '@/entities/spec'\nimport { getExampleFromSchema } from './get-example-from-schema'\n\n/**\n * Get the query parameters from an operation.\n *\n * Example: [ { name: 'foobar', value: '' } ]\n *\n * - OpenAPI 3.x: Possible values are \"query\", \"header\", \"path\" or \"cookie\".\n */\nexport function getParametersFromOperation(\n  operationParameters: Operation['parameters'] = [],\n  pathParameters: OpenAPIV3_1.ParameterObject[] = [],\n  where: 'query' | 'header' | 'path' | 'cookie' | 'formData' | 'body',\n  requiredOnly: boolean = true,\n) {\n  const parameters = [...(pathParameters || []), ...(operationParameters || [])]\n\n  const params = parameters\n    // query, path, header, cookie?\n    .filter((parameter) => parameter.in === where)\n    // don't add optional parameters\n    .filter((parameter) => (requiredOnly && parameter.required) || !requiredOnly)\n    // transform them\n    .map((parameter) => ({\n      name: parameter.name ?? 'Unknown Parameter',\n      description: parameter.description ?? null,\n      value: parameter.example\n        ? parameter.example\n        : parameter.schema\n          ? getExampleFromSchema(parameter.schema, { mode: 'write' })\n          : '',\n      required: parameter.required ?? false,\n      enabled: parameter.required ?? false,\n    }))\n\n  return params.sort((a, b) => {\n    // Move a up if a is required and b is not\n    if (a.required && !b.required) {\n      return -1\n    }\n    // Move b up if b is required and a is not\n    if (!a.required && b.required) {\n      return 1\n    }\n    // Keep original order if both have the same required status\n    return 0\n  })\n}\n"],
  "mappings": "AAGA,SAAS,4BAA4B;AAS9B,SAAS,2BACd,sBAA+C,CAAC,GAChD,iBAAgD,CAAC,GACjD,OACA,eAAwB,MACxB;AACA,QAAM,aAAa,CAAC,GAAI,kBAAkB,CAAC,GAAI,GAAI,uBAAuB,CAAC,CAAE;AAE7E,QAAM,SAAS,WAEZ,OAAO,CAAC,cAAc,UAAU,OAAO,KAAK,EAE5C,OAAO,CAAC,cAAe,gBAAgB,UAAU,YAAa,CAAC,YAAY,EAE3E,IAAI,CAAC,eAAe;AAAA,IACnB,MAAM,UAAU,QAAQ;AAAA,IACxB,aAAa,UAAU,eAAe;AAAA,IACtC,OAAO,UAAU,UACb,UAAU,UACV,UAAU,SACR,qBAAqB,UAAU,QAAQ,EAAE,MAAM,QAAQ,CAAC,IACxD;AAAA,IACN,UAAU,UAAU,YAAY;AAAA,IAChC,SAAS,UAAU,YAAY;AAAA,EACjC,EAAE;AAEJ,SAAO,OAAO,KAAK,CAAC,GAAG,MAAM;AAE3B,QAAI,EAAE,YAAY,CAAC,EAAE,UAAU;AAC7B,aAAO;AAAA,IACT;AAEA,QAAI,CAAC,EAAE,YAAY,EAAE,UAAU;AAC7B,aAAO;AAAA,IACT;AAEA,WAAO;AAAA,EACT,CAAC;AACH;",
  "names": []
}
