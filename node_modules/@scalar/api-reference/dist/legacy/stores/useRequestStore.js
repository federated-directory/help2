import { reactive as u, ref as n, computed as d } from "vue";
import { createPlaceholderRequest as p } from "../helpers/createPlaceholderRequest.js";
const o = u({}), a = n([]), s = n(""), r = u(p()), l = (e) => {
  o[e.responseId] = e, s.value = e.responseId, a.value.unshift(e.responseId);
}, v = (e) => {
  var i;
  s.value = e;
  const t = (i = o[e]) == null ? void 0 : i.request, c = JSON.parse(JSON.stringify(t));
  c.body = JSON.stringify((t == null ? void 0 : t.body) ?? "", null, 2), Object.assign(r, c);
}, q = d(
  () => {
    var e;
    return s.value ? (e = o[s.value ?? ""]) == null ? void 0 : e.response : null;
  }
), R = (e) => {
  Object.assign(r, e);
}, y = () => {
  s.value = "";
}, O = n(!0), b = () => ({
  readOnly: O,
  activeRequest: r,
  activeResponse: q,
  requestHistory: o,
  requestHistoryOrder: a,
  activeRequestId: s,
  setActiveResponse: v,
  resetActiveResponse: y,
  addRequestToHistory: l,
  setActiveRequest: R
});
export {
  b as useRequestStore
};
