import { defineComponent, createBlock, createCommentVNode, openBlock, unref, withCtx, withDirectives, createVNode, createTextVNode, toDisplayString, vShow } from "vue";
import { ScalarMarkdown } from "@scalar/components";
import ScreenReader from "../../../ScreenReader.vue.js";
import Section from "../../../Section/Section.vue.js";
import SectionHeader from "../../../Section/SectionHeader.vue.js";
import _sfc_main$1 from "../../../Anchor/Anchor.vue.js";
import SectionHeaderTag from "../../../Section/SectionHeaderTag.vue.js";
import SectionContent from "../../../Section/SectionContent.vue.js";
import SectionColumns from "../../../Section/SectionColumns.vue.js";
import SectionColumn from "../../../Section/SectionColumn.vue.js";
import OperationsList from "../../../OperationsList/OperationsList.vue.js";
import _sfc_main$2 from "../../../../features/specification-extension/SpecificationExtension.vue2.js";
const _sfc_main = /* @__PURE__ */ defineComponent({
  __name: "TagSection",
  props: {
    tag: {},
    headerId: {},
    isCollapsed: { type: Boolean },
    isLoading: { type: Boolean },
    eventBus: {}
  },
  setup(__props) {
    return (_ctx, _cache) => {
      return __props.tag ? (openBlock(), createBlock(unref(Section), {
        key: 0,
        id: __props.tag.id,
        role: "none",
        onIntersecting: _cache[1] || (_cache[1] = () => __props.eventBus?.emit("intersecting:nav-item", { id: __props.tag.id }))
      }, {
        default: withCtx(() => [
          withDirectives(createVNode(unref(SectionHeader), null, {
            default: withCtx(() => [
              createVNode(unref(_sfc_main$1), {
                onCopyAnchorUrl: _cache[0] || (_cache[0] = () => __props.eventBus?.emit("copy-url:nav-item", { id: __props.tag.id }))
              }, {
                default: withCtx(() => [
                  createVNode(unref(SectionHeaderTag), {
                    id: __props.headerId,
                    level: 2
                  }, {
                    default: withCtx(() => [
                      createTextVNode(toDisplayString(__props.tag.title) + " ", 1),
                      __props.isCollapsed ? (openBlock(), createBlock(ScreenReader, { key: 0 }, {
                        default: withCtx(() => [..._cache[2] || (_cache[2] = [
                          createTextVNode(" (Collapsed)", -1)
                        ])]),
                        _: 1
                      })) : createCommentVNode("", true)
                    ]),
                    _: 1
                  }, 8, ["id"])
                ]),
                _: 1
              })
            ]),
            _: 1
          }, 512), [
            [vShow, !__props.isLoading]
          ]),
          createVNode(unref(SectionContent), { loading: __props.isLoading }, {
            default: withCtx(() => [
              createVNode(unref(SectionColumns), null, {
                default: withCtx(() => [
                  createVNode(unref(SectionColumn), null, {
                    default: withCtx(() => [
                      createVNode(unref(ScalarMarkdown), {
                        clamp: __props.isCollapsed ? 7 : void 0,
                        value: __props.tag?.description ?? "",
                        withImages: ""
                      }, null, 8, ["clamp", "value"])
                    ]),
                    _: 1
                  }),
                  createVNode(unref(SectionColumn), null, {
                    default: withCtx(() => [
                      createVNode(unref(OperationsList), {
                        eventBus: __props.eventBus,
                        tag: __props.tag
                      }, null, 8, ["eventBus", "tag"])
                    ]),
                    _: 1
                  })
                ]),
                _: 1
              })
            ]),
            _: 1
          }, 8, ["loading"]),
          createVNode(unref(_sfc_main$2), {
            value: __props.tag.xKeys
          }, null, 8, ["value"])
        ]),
        _: 1
      }, 8, ["id"])) : createCommentVNode("", true);
    };
  }
});
export {
  _sfc_main as default
};
