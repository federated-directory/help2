{
  "version": 3,
  "sources": ["../../src/useBindCx/useBindCx.ts"],
  "sourcesContent": ["import type { CXOptions } from 'cva'\nimport { type StyleValue, computed, useAttrs } from 'vue'\n\nimport { cx } from './cva'\n\n/** Utility type for class names */\ntype ClassValue = CXOptions[number]\n\n/**\n * Provides a wrapper around the `cx` function that merges the\n * component's class attribute with the provided classes and binds the\n * remaining attributes\n *\n * @see https://beta.cva.style/api-reference#cx\n *\n * @example\n * <script setup>\n * import { useBindCx, cva } from '@scalar/components'\n *\n * defineProps<{ active?: boolean }>()\n *\n * // Important: disable inheritance of attributes\n * defineOptions({ inheritAttrs: false })\n *\n * const { cx } = useBindCx()\n *\n * const variants = cva({\n *   base: 'border rounded p-2 bg-b-1',\n *   variants: { active: { true: 'bg-b-2' } },\n * })\n * </script>\n * <template>\n *   <div v-bind=\"cx(variants({ active }))\">MockComponent</div>\n * </template>\n */\nexport function useBindCx() {\n  const attrs = useAttrs()\n\n  const destructured = computed<{\n    class: ClassValue\n    style: StyleValue\n    rest: { [key: string]: unknown }\n  }>(() => {\n    const { class: className, style, ...rest } = attrs\n    return { class: className || '', style: style as StyleValue, rest }\n  })\n\n  function bindCx(...args: CXOptions): {\n    /** The merged class attribute */\n    class: string\n    /** The remaining attributes */\n    [key: string]: any\n  } {\n    return {\n      class: cx(...args, destructured.value.class),\n      style: destructured.value.style,\n      ...destructured.value.rest,\n    }\n  }\n\n  function bindClassAndStyle(...args: CXOptions): {\n    /** The merged class attribute */\n    class: string\n    style: StyleValue\n  } {\n    return { class: cx(...args, destructured.value.class), style: destructured.value.style }\n  }\n\n  return {\n    /**\n     * Provides a wrapper around the `cx` function that merges the\n     * component's class attribute with the provided classes and binds the\n     * remaining attributes\n     *\n     * @example\n     * ```html\n     * <script setup>\n     * ...\n     * const { cx } = useBindCx()\n     * </script>\n     * <template>\n     *   <div v-bind=\"cx(...)\">...</div>\n     * </template>\n     * ```\n     */\n    cx: bindCx,\n    /**\n     * Provides a wrapper around the `cx` function that merges the\n     * component's class attribute with the provided classes and binds the\n     * style attribute  but **does not** bind any other attributes.\n     *\n     * Typically used in conjunction with `otherAttrs` to apply the stylistic\n     * attributes to a styled wrapper element, but apply the remaining\n     * attributes to an internal semantic element like an `<input>`.\n     *\n     * @example\n     * ```html\n     * <script setup>\n     * ...\n     * const { stylingAttrsCx, otherAttrs } = useBindCx()\n     * </script>\n     * <template>\n     *   <!-- Bind the class and style attributes to a wrapper element -->\n     *   <div v-bind=\"stylingAttrsCx(...)\">\n     *     ...\n     *     <!-- Bind the other attributes to a semantic internal element -->\n     *     <input v-bind=\"otherAttrs\" />\n     *   </div>\n     * </template>\n     * ```\n     */\n    stylingAttrsCx: bindClassAndStyle,\n    /**\n     * The remaining attributes that **are not** the class or style attributes\n     * of the component.\n     *\n     * Typically used in conjunction with `stylingAttrsCx` to apply the stylistic\n     * attributes to a styled wrapper element, but apply the remaining\n     * attributes to an internal semantic element like an `<input>`.\n     *\n     * @example\n     * ```html\n     * <script setup>\n     * ...\n     * const { stylingAttrsCx, otherAttrs } = useBindCx()\n     * </script>\n     * <template>\n     *   <!-- Bind the class and style attributes to a wrapper element -->\n     *   <div v-bind=\"stylingAttrsCx(...)\">\n     *     ...\n     *     <!-- Bind the other attributes to a semantic internal element -->\n     *     <input v-bind=\"otherAttrs\" />\n     *   </div>\n     * </template>\n     */\n    otherAttrs: computed(() => destructured.value.rest),\n  }\n}\n"],
  "mappings": "AACA,SAA0B,UAAU,gBAAgB;AAEpD,SAAS,UAAU;AAgCZ,SAAS,YAAY;AAC1B,QAAM,QAAQ,SAAS;AAEvB,QAAM,eAAe,SAIlB,MAAM;AACP,UAAM,EAAE,OAAO,WAAW,OAAO,GAAG,KAAK,IAAI;AAC7C,WAAO,EAAE,OAAO,aAAa,IAAI,OAA4B,KAAK;AAAA,EACpE,CAAC;AAED,WAAS,UAAU,MAKjB;AACA,WAAO;AAAA,MACL,OAAO,GAAG,GAAG,MAAM,aAAa,MAAM,KAAK;AAAA,MAC3C,OAAO,aAAa,MAAM;AAAA,MAC1B,GAAG,aAAa,MAAM;AAAA,IACxB;AAAA,EACF;AAEA,WAAS,qBAAqB,MAI5B;AACA,WAAO,EAAE,OAAO,GAAG,GAAG,MAAM,aAAa,MAAM,KAAK,GAAG,OAAO,aAAa,MAAM,MAAM;AAAA,EACzF;AAEA,SAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAiBL,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IA0BJ,gBAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAwBhB,YAAY,SAAS,MAAM,aAAa,MAAM,IAAI;AAAA,EACpD;AACF;",
  "names": []
}
