import { defineComponent as d, watch as i, onBeforeMount as m, onMounted as p, onBeforeUnmount as u, withDirectives as f, openBlock as v, createElementBlock as w, createElementVNode as t, createVNode as h, unref as n, vShow as y } from "vue";
import { useWorkspace as _ } from "../../store/workspace.js";
import { addScalarClassesToHeadless as k } from "@scalar/components";
import { RouterView as E } from "vue-router";
import { hotKeyBus as l, handleHotKeyDown as C } from "../../libs/event-busses/hot-keys-bus.js";
const B = { class: "scalar" }, M = { className: "scalar-container" }, K = { className: "scalar-app scalar-client scalar-app-layout" }, L = /* @__PURE__ */ d({
  __name: "ApiClientModal",
  setup(N) {
    const { activeWorkspace: c, modalState: o } = _(), a = (e) => C(e, c.value.hotKeyConfig);
    i(
      () => o.open,
      (e) => {
        e ? (window.addEventListener("keydown", a), document.documentElement.style.overflow = "hidden") : (window.removeEventListener("keydown", a), document.documentElement.style.removeProperty("overflow"));
      }
    ), m(() => k());
    const r = (e) => e.closeModal && o.open && o.hide();
    return p(() => l.on(r)), u(() => {
      document.documentElement.style.removeProperty("overflow"), l.off(r);
    }), (e, s) => f((v(), w("div", B, [
      t("div", M, [
        t("div", K, [
          h(n(E), { key: "$route.fullPath" })
        ]),
        t("div", {
          class: "scalar-app-exit",
          onClick: s[0] || (s[0] = (x) => n(o).hide())
        })
      ])
    ], 512)), [
      [y, n(o).open]
    ]);
  }
});
export {
  L as default
};
