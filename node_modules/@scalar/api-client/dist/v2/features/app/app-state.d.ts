import type { ScalarListboxOption } from '@scalar/components';
import type { HttpMethod } from '@scalar/helpers/http/http-methods';
import { type WorkspaceStore } from '@scalar/workspace-store/client';
import { type WorkspaceEventBus } from '@scalar/workspace-store/events';
import type { WorkspaceDocument } from '@scalar/workspace-store/schemas';
import type { XScalarEnvironment } from '@scalar/workspace-store/schemas/extensions/document/x-scalar-environments';
import type { Tab } from '@scalar/workspace-store/schemas/extensions/workspace/x-scalar-tabs';
import type { TraversedEntry } from '@scalar/workspace-store/schemas/navigation';
import { type ComputedRef, type Ref, type ShallowRef } from 'vue';
import type { RouteLocationNormalizedGeneric, Router } from 'vue-router';
type WorkspaceOption = ScalarListboxOption & {
    teamUid: string;
    namespace: string;
    slug: string;
};
/**
 * Navigates to the overview page of the specified workspace.
 * Updates the route based on the given namespace and slug.
 *
 * @param namespace - The workspace namespace.
 * @param slug - The unique workspace slug (identifier).
 */
declare const navigateToWorkspace: (namespace?: string, slug?: string) => Promise<void>;
/**
 * Creates a new workspace with the provided name.
 * - Generates a unique slug for the workspace (sluggified from the name and guaranteed unique).
 * - Adds a default blank document ("drafts") to the workspace.
 * - Persists the workspace and navigates to it.
 *
 * Example usage:
 *   await createWorkspace({ name: 'My Awesome API' })
 *   // -> Navigates to /workspace/my-awesome-api (if available)
 */
declare const createWorkspace: ({ key, name, }: {
    key?: {
        teamUid?: string;
        namespace?: string;
        slug: string;
    };
    name: string;
}) => Promise<{
    slug: string;
    name: string;
    namespace: string;
    teamUid: string;
} | undefined>;
declare const sidebarState: {
    items: ComputedRef<TraversedEntry[]>;
    index: ComputedRef<Map<string, TraversedEntry & {
        parent?: TraversedEntry | undefined;
    }>>;
    selectedItems: import("vue").Ref<Record<string, boolean>, Record<string, boolean>>;
    expandedItems: import("vue").Ref<Record<string, boolean>, Record<string, boolean>>;
    selectedItem: import("vue").Ref<string | null, string | null>;
    setSelected: (id: string | null) => void;
    setExpanded: (id: string, value: boolean) => void;
    isExpanded: (id: string) => boolean;
    isSelected: (id: string) => boolean;
    getEntryById: (id: string) => (TraversedEntry & {
        parent?: TraversedEntry | undefined;
    }) | undefined;
    reset: () => void;
};
/**
 * Looks up a sidebar entry by its unique API location.
 * - First tries to find an entry matching all provided properties (including example).
 * - If not found, falls back to matching only the operation (ignores example field).
 * This allows resolving either examples, operations, or documents as appropriate.
 *
 * @param location - Object specifying the document name, path, method, and optional example name.
 * @returns The matching sidebar entry, or undefined if none found.
 *
 * Example:
 *   const entry = getEntryByLocation({
 *     document: 'pets',
 *     path: '/pets',
 *     method: 'get',
 *     example: 'default',
 *   })
 */
declare const getEntryByLocation: GetEntryByLocation;
export type GetEntryByLocation = (location: {
    document: string;
    path?: string;
    method?: HttpMethod;
    example?: string;
}) => (TraversedEntry & {
    parent?: TraversedEntry | undefined;
}) | undefined;
/**
 * Handles item selection from the sidebar and routes navigation accordingly.
 *
 * Example:
 *   handleSelectItem('id-of-entry')
 */
declare const handleSelectItem: (id: string) => Promise<void | import("vue-router").NavigationFailure | undefined> | undefined;
/** Handler for sidebar width changes. */
declare const handleSidebarWidthUpdate: (width: number) => void | undefined;
/**
 * Copies the URL of the tab at the given index to the clipboard.
 * Constructs the full URL using the current origin and the tab path.
 *
 * @throws Will silently fail if clipboard API is unavailable or the tab does not exist.
 */
declare const copyTabUrl: (index: number) => Promise<void>;
export type AppState = {
    store: ShallowRef<WorkspaceStore | null>;
    sidebar: {
        state: typeof sidebarState;
        width: ComputedRef<number>;
        isOpen: Ref<boolean>;
        handleSelectItem: typeof handleSelectItem;
        handleSidebarWidthUpdate: typeof handleSidebarWidthUpdate;
        getEntryByLocation: typeof getEntryByLocation;
    };
    tabs: {
        state: Ref<Tab[]>;
        activeTabIndex: Ref<number>;
        copyTabUrl: typeof copyTabUrl;
    };
    workspace: {
        create: typeof createWorkspace;
        workspaceList: Ref<WorkspaceOption[]>;
        activeWorkspace: ShallowRef<ScalarListboxOption | null>;
        navigateToWorkspace: typeof navigateToWorkspace;
        isOpen: ComputedRef<boolean>;
    };
    eventBus: WorkspaceEventBus;
    router: ShallowRef<Router | null>;
    currentRoute: Ref<RouteLocationNormalizedGeneric | null>;
    loading: Ref<boolean>;
    activeEntities: {
        namespace: Ref<string | undefined>;
        workspaceSlug: Ref<string | undefined>;
        documentSlug: Ref<string | undefined>;
        path: Ref<string | undefined>;
        method: Ref<HttpMethod | undefined>;
        exampleName: Ref<string | undefined>;
    };
    environment: ComputedRef<XScalarEnvironment>;
    document: ComputedRef<WorkspaceDocument | null>;
};
export declare function useAppState(_router: Router): AppState;
export {};
//# sourceMappingURL=app-state.d.ts.map