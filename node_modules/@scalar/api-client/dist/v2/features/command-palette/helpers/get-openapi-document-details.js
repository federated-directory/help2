import { json as n, yaml as a } from "@scalar/oas-utils/helpers";
import { isUrl as l } from "../../../helpers/is-url.js";
const e = (r) => typeof r?.title == "string" ? r.title : void 0, p = (r, t) => {
  if (typeof r.openapi == "string")
    return {
      version: `OpenAPI ${r.openapi}`,
      type: t,
      title: e(r.info)
    };
  if (typeof r.swagger == "string")
    return {
      version: `Swagger ${r.swagger}`,
      type: t,
      title: e(r.info)
    };
}, s = (r, t, i) => {
  try {
    const o = t(r);
    return p(o, i);
  } catch {
    return;
  }
}, c = (r) => {
  if (!r || l(r))
    return;
  const t = s(r, n.parse, "json");
  return t || s(r, a.parse, "yaml");
};
export {
  c as getOpenApiDocumentDetails
};
