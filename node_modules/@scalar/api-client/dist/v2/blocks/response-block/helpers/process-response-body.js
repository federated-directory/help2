import s from "whatwg-mimetype";
import { extractFilename as p } from "./extract-filename.js";
const f = (e) => e instanceof Blob;
function y({ data: e, headers: o }) {
  const r = o.find((n) => n.name.toLowerCase() === "content-type"), t = r?.value ? new s(r.value) : void 0, i = p(
    o.find((n) => n.name.toLowerCase() === "content-disposition")?.value ?? ""
  ), c = f(e) ? URL.createObjectURL(e) : typeof e == "string" ? URL.createObjectURL(new Blob([e], { type: t ? t.toString() : void 0 })) : e instanceof Object && Object.keys(e).length ? URL.createObjectURL(
    new Blob([JSON.stringify(e)], {
      type: t ? t.toString() : void 0
    })
  ) : "";
  return { mimeType: t, attachmentFilename: i, dataUrl: c };
}
export {
  y as processResponseBody
};
