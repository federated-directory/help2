function l(o) {
  var r, c;
  const e = Object.keys(o).find(
    (t) => t.toLowerCase() === "x-scalar-modified-headers"
  ), n = e ? ((c = (r = o[e]) == null ? void 0 : r.toString().split(", ")) == null ? void 0 : c.map((t) => t.toLowerCase())) ?? [] : [];
  return Object.keys(o).forEach((t) => {
    n.includes(t.toLowerCase()) && delete o[t];
  }), e && delete o[e], Object.keys(o).forEach((t) => {
    if (t.toLowerCase().startsWith("x-scalar-original-")) {
      const i = t.replace("X-Scalar-Original-", "");
      o[i] = o[t], delete o[t];
    }
  }), Object.keys(o).forEach((t) => {
    const i = a(t);
    t !== i && (o[i] = o[t], delete o[t]);
  }), Object.fromEntries(
    Object.entries(o).sort(([t], [i]) => t.localeCompare(i))
  );
}
function a(o) {
  return o.split("-").map((e) => e.charAt(0).toUpperCase() + e.toLowerCase().slice(1)).join("-");
}
export {
  l as normalizeHeaders
};
