{
  "version": 3,
  "sources": ["../../src/helpers/external-docs.ts"],
  "sourcesContent": ["import type { OpenAPIV3_1 } from '@scalar/openapi-types'\n\nimport type { PostmanCollection, Variable } from '@/types'\n\n// Constants for variable keys\nconst VARIABLE_KEYS = {\n  URL: 'externalDocs.url',\n  DESCRIPTION: 'externalDocs.description',\n} as const\n\n/**\n * Finds a specific variable in the collection by its key\n */\nfunction findVariable(collection: PostmanCollection, key: string): Variable | undefined {\n  return collection.variable?.find((v) => v.key === key)\n}\n\n/**\n * Processes the external documentation information from a Postman Collection.\n * This function checks for 'externalDocs.url' and 'externalDocs.description'\n * in the collection variables and creates an OpenAPI External Documentation Object\n * if the URL is present.\n */\nexport function processExternalDocs(\n  collection: PostmanCollection,\n): OpenAPIV3_1.ExternalDocumentationObject | undefined {\n  try {\n    const urlVariable = findVariable(collection, VARIABLE_KEYS.URL)\n    const descriptionVariable = findVariable(collection, VARIABLE_KEYS.DESCRIPTION)\n\n    if (!urlVariable?.value) {\n      return undefined\n    }\n\n    if (typeof urlVariable.value !== 'string') {\n      throw new Error('External docs URL must be a string')\n    }\n\n    return {\n      url: urlVariable.value,\n      ...(descriptionVariable?.value &&\n        typeof descriptionVariable.value === 'string' && {\n          description: descriptionVariable.value,\n        }),\n    }\n  } catch (error) {\n    console.error('Error processing external docs:', error)\n    throw error\n  }\n}\n"],
  "mappings": "AAKA,MAAM,gBAAgB;AAAA,EACpB,KAAK;AAAA,EACL,aAAa;AACf;AAKA,SAAS,aAAa,YAA+B,KAAmC;AACtF,SAAO,WAAW,UAAU,KAAK,CAAC,MAAM,EAAE,QAAQ,GAAG;AACvD;AAQO,SAAS,oBACd,YACqD;AACrD,MAAI;AACF,UAAM,cAAc,aAAa,YAAY,cAAc,GAAG;AAC9D,UAAM,sBAAsB,aAAa,YAAY,cAAc,WAAW;AAE9E,QAAI,CAAC,aAAa,OAAO;AACvB,aAAO;AAAA,IACT;AAEA,QAAI,OAAO,YAAY,UAAU,UAAU;AACzC,YAAM,IAAI,MAAM,oCAAoC;AAAA,IACtD;AAEA,WAAO;AAAA,MACL,KAAK,YAAY;AAAA,MACjB,GAAI,qBAAqB,SACvB,OAAO,oBAAoB,UAAU,YAAY;AAAA,QAC/C,aAAa,oBAAoB;AAAA,MACnC;AAAA,IACJ;AAAA,EACF,SAAS,OAAO;AACd,YAAQ,MAAM,mCAAmC,KAAK;AACtD,UAAM;AAAA,EACR;AACF;",
  "names": []
}
