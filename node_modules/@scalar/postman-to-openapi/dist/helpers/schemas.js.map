{
  "version": 3,
  "sources": ["../../src/helpers/schemas.ts"],
  "sourcesContent": ["import type { OpenAPIV3_1 } from '@scalar/openapi-types'\n\n/**\n * Infers the schema of an OpenAPI object based on an example value.\n * This function recursively analyzes the structure of the example value\n * and returns a corresponding OpenAPI schema object.\n */\nexport function inferSchemaFromExample(example: any): OpenAPIV3_1.SchemaObject {\n  if (Array.isArray(example)) {\n    return {\n      type: 'array',\n      items: example.length > 0 ? inferSchemaFromExample(example[0]) : {},\n    }\n  }\n  if (typeof example === 'object' && example !== null) {\n    const properties: { [key: string]: OpenAPIV3_1.SchemaObject } = {}\n    for (const [key, value] of Object.entries(example)) {\n      properties[key] = inferSchemaFromExample(value)\n    }\n    return {\n      type: 'object',\n      properties,\n    }\n  }\n  return {\n    type: typeof example as OpenAPIV3_1.NonArraySchemaObjectType,\n  }\n}\n\n/**\n * Infers the schema type of a value based on its type.\n * This function determines the OpenAPI schema type of a value\n * by checking its JavaScript type and attempting to parse it\n * as a number or boolean if it's a string.\n */\nexport function inferSchemaType(value: any): OpenAPIV3_1.SchemaObject {\n  if (typeof value === 'number') {\n    return { type: Number.isInteger(value) ? 'integer' : 'number' }\n  }\n  if (typeof value === 'boolean') {\n    return { type: 'boolean' }\n  }\n  if (typeof value === 'string') {\n    const num = Number(value)\n    if (!isNaN(num)) {\n      return { type: Number.isInteger(num) ? 'integer' : 'number' }\n    }\n    if (value.toLowerCase() === 'true' || value.toLowerCase() === 'false') {\n      return { type: 'boolean' }\n    }\n  }\n  return { type: 'string' }\n}\n"],
  "mappings": "AAOO,SAAS,uBAAuB,SAAwC;AAC7E,MAAI,MAAM,QAAQ,OAAO,GAAG;AAC1B,WAAO;AAAA,MACL,MAAM;AAAA,MACN,OAAO,QAAQ,SAAS,IAAI,uBAAuB,QAAQ,CAAC,CAAC,IAAI,CAAC;AAAA,IACpE;AAAA,EACF;AACA,MAAI,OAAO,YAAY,YAAY,YAAY,MAAM;AACnD,UAAM,aAA0D,CAAC;AACjE,eAAW,CAAC,KAAK,KAAK,KAAK,OAAO,QAAQ,OAAO,GAAG;AAClD,iBAAW,GAAG,IAAI,uBAAuB,KAAK;AAAA,IAChD;AACA,WAAO;AAAA,MACL,MAAM;AAAA,MACN;AAAA,IACF;AAAA,EACF;AACA,SAAO;AAAA,IACL,MAAM,OAAO;AAAA,EACf;AACF;AAQO,SAAS,gBAAgB,OAAsC;AACpE,MAAI,OAAO,UAAU,UAAU;AAC7B,WAAO,EAAE,MAAM,OAAO,UAAU,KAAK,IAAI,YAAY,SAAS;AAAA,EAChE;AACA,MAAI,OAAO,UAAU,WAAW;AAC9B,WAAO,EAAE,MAAM,UAAU;AAAA,EAC3B;AACA,MAAI,OAAO,UAAU,UAAU;AAC7B,UAAM,MAAM,OAAO,KAAK;AACxB,QAAI,CAAC,MAAM,GAAG,GAAG;AACf,aAAO,EAAE,MAAM,OAAO,UAAU,GAAG,IAAI,YAAY,SAAS;AAAA,IAC9D;AACA,QAAI,MAAM,YAAY,MAAM,UAAU,MAAM,YAAY,MAAM,SAAS;AACrE,aAAO,EAAE,MAAM,UAAU;AAAA,IAC3B;AAAA,EACF;AACA,SAAO,EAAE,MAAM,SAAS;AAC1B;",
  "names": []
}
