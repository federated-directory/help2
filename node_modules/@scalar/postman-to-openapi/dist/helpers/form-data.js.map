{
  "version": 3,
  "sources": ["../../src/helpers/form-data.ts"],
  "sourcesContent": ["import type { OpenAPIV3_1 } from '@scalar/openapi-types'\n\nimport type { FormParameter } from '@/types'\n\n/**\n * Processes form data parameters from a Postman request and converts them into an OpenAPI schema.\n * Handles file uploads, required fields, and descriptions.\n */\nexport function processFormDataSchema(formdata: FormParameter[]): OpenAPIV3_1.SchemaObject {\n  const schema: OpenAPIV3_1.SchemaObject = {\n    type: 'object',\n    properties: {},\n    required: [],\n  }\n\n  formdata.forEach((item: FormParameter) => {\n    if (!schema.properties) {\n      return\n    }\n\n    const property: OpenAPIV3_1.SchemaObject = {\n      type: 'string',\n    }\n\n    // Add description if present, handling both string and object descriptions\n    if (item.description) {\n      const descriptionText = typeof item.description === 'string' ? item.description : item.description.content || ''\n\n      property.description = descriptionText.replace(' [required]', '')\n\n      // If [required] was present, add to required array\n      if (descriptionText.includes('[required]')) {\n        schema.required?.push(item.key)\n      }\n    }\n\n    // Handle file type fields\n    if (item.type === 'file') {\n      property.format = 'binary'\n    } else {\n      property.example = item.value\n    }\n\n    // Add x-scalar-disabled extension if parameter is disabled\n    if (item.disabled === true) {\n      property['x-scalar-disabled'] = true\n    }\n\n    schema.properties[item.key] = property\n  })\n\n  // Only keep required array if it has items\n  if (schema.required?.length === 0) {\n    delete schema.required\n  }\n\n  return schema\n}\n"],
  "mappings": "AAQO,SAAS,sBAAsB,UAAqD;AACzF,QAAM,SAAmC;AAAA,IACvC,MAAM;AAAA,IACN,YAAY,CAAC;AAAA,IACb,UAAU,CAAC;AAAA,EACb;AAEA,WAAS,QAAQ,CAAC,SAAwB;AACxC,QAAI,CAAC,OAAO,YAAY;AACtB;AAAA,IACF;AAEA,UAAM,WAAqC;AAAA,MACzC,MAAM;AAAA,IACR;AAGA,QAAI,KAAK,aAAa;AACpB,YAAM,kBAAkB,OAAO,KAAK,gBAAgB,WAAW,KAAK,cAAc,KAAK,YAAY,WAAW;AAE9G,eAAS,cAAc,gBAAgB,QAAQ,eAAe,EAAE;AAGhE,UAAI,gBAAgB,SAAS,YAAY,GAAG;AAC1C,eAAO,UAAU,KAAK,KAAK,GAAG;AAAA,MAChC;AAAA,IACF;AAGA,QAAI,KAAK,SAAS,QAAQ;AACxB,eAAS,SAAS;AAAA,IACpB,OAAO;AACL,eAAS,UAAU,KAAK;AAAA,IAC1B;AAGA,QAAI,KAAK,aAAa,MAAM;AAC1B,eAAS,mBAAmB,IAAI;AAAA,IAClC;AAEA,WAAO,WAAW,KAAK,GAAG,IAAI;AAAA,EAChC,CAAC;AAGD,MAAI,OAAO,UAAU,WAAW,GAAG;AACjC,WAAO,OAAO;AAAA,EAChB;AAEA,SAAO;AACT;",
  "names": []
}
