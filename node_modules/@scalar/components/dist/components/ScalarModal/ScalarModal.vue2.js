import { defineComponent as p, openBlock as l, createBlock as o, unref as a, withCtx as s, createElementVNode as f, normalizeClass as t, createVNode as u, normalizeStyle as v, createTextVNode as h, toDisplayString as y, createCommentVNode as b, createElementBlock as g, renderSlot as i, reactive as w } from "vue";
import { Dialog as x, DialogPanel as z, DialogTitle as C, DialogDescription as k } from "@headlessui/vue";
import { cva as d, cx as n } from "../../cva.js";
const B = () => w({
  open: !1,
  show() {
    this.open = !0;
  },
  hide() {
    this.open = !1;
  }
}), W = /* @__PURE__ */ p({
  __name: "ScalarModal",
  props: {
    state: {},
    title: {},
    bodyClass: {},
    maxWidth: {},
    size: { default: "md" },
    variant: {}
  },
  setup(D) {
    const m = d({
      base: [
        "scalar-modal",
        "col relative mx-auto mb-0 mt-20 w-full rounded-lg bg-b-2 p-0 text-left leading-snug text-c-1 opacity-0"
      ].join(" "),
      variants: {
        size: {
          xs: "max-w-screen-xs",
          sm: "max-w-screen-sm",
          md: "max-w-screen-md",
          lg: "max-w-screen-lg",
          full: "mt-0 overflow-hidden"
        },
        variant: {
          history: "scalar-modal-history bg-b-1",
          search: "scalar-modal-search"
        }
      }
    }), c = d({
      base: [
        "scalar-modal-body",
        "relative m-1 mt-0 max-h-[calc(100dvh-240px)] overflow-y-auto rounded-lg bg-b-1 p-3"
      ].join(" "),
      variants: {
        variant: {
          history: "pt-3",
          search: "col !m-0 max-h-[440px] overflow-hidden p-0"
        }
      }
    });
    return (e, r) => (l(), o(a(x), {
      open: e.state.open,
      onClose: r[0] || (r[0] = (N) => e.state.hide())
    }, {
      default: s(() => [
        f("div", {
          class: t(
            a(n)(
              "scalar-modal-layout fixed left-0 top-0 flex items-start justify-center",
              "z-[1001] h-[100dvh] w-[100dvw]",
              "bg-backdrop opacity-0",
              e.size === "full" && "flex"
            )
          )
        }, [
          u(a(z), {
            class: t(a(m)({ size: e.size, variant: e.variant })),
            style: v({ maxWidth: e.maxWidth })
          }, {
            default: s(() => [
              e.title ? (l(), o(a(C), {
                key: 0,
                class: t(["scalar-modal-header m-0 rounded-lg p-3 text-left text-sm font-medium text-c-1", { "pb-0 pt-6": e.variant === "history" }])
              }, {
                default: s(() => [
                  h(y(e.title), 1)
                ]),
                _: 1
              }, 8, ["class"])) : b("", !0),
              e.size === "full" ? (l(), g("div", {
                key: 1,
                class: t(e.bodyClass)
              }, [
                i(e.$slots, "default", {}, void 0, !0)
              ], 2)) : (l(), o(a(k), {
                key: 2,
                class: t(a(n)(e.bodyClass, a(c)({ variant: e.variant })))
              }, {
                default: s(() => [
                  i(e.$slots, "default", {}, void 0, !0)
                ]),
                _: 3
              }, 8, ["class"]))
            ]),
            _: 3
          }, 8, ["class", "style"])
        ], 2)
      ]),
      _: 3
    }, 8, ["open"]));
  }
});
export {
  W as default,
  B as useModal
};
