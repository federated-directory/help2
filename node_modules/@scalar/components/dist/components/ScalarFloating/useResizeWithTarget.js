import { ref as r, watch as v, toValue as t, computed as d } from "vue";
function s(l, a = { enabled: r(!0) }) {
  const o = r(0), u = r(0), i = r();
  return typeof ResizeObserver < "u" && (i.value = new ResizeObserver(([e]) => {
    e && (o.value = e.borderBoxSize[0]?.inlineSize ?? 0, u.value = e.borderBoxSize[0]?.blockSize ?? 0);
  })), v(
    [() => t(a.enabled), () => t(l)],
    ([e, n]) => {
      !n || !i.value || (e ? i.value.observe(n) : i.value.disconnect());
    },
    { immediate: !0 }
  ), {
    width: d(() => t(a.enabled) ? `${o.value}px` : void 0),
    height: d(() => t(a.enabled) ? `${u.value}px` : void 0)
  };
}
export {
  s as useResizeWithTarget
};
