import { defineComponent as u, mergeModels as f, useModel as m, ref as p, createElementBlock as h, openBlock as t, normalizeProps as g, guardReactiveProps as v, unref as e, createVNode as b, withDirectives as x, createBlock as n, createCommentVNode as k, createElementVNode as y, mergeProps as C, vModelText as S, withModifiers as V } from "vue";
import { ScalarIconMagnifyingGlass as M, ScalarIconX as z } from "@scalar/icons";
import { useBindCx as _ } from "@scalar/use-hooks/useBindCx";
import A from "../ScalarLoading/ScalarLoading.vue.js";
import B from "../ScalarIconButton/ScalarIconButton.vue.js";
const w = ["aria-label"], E = {}, G = /* @__PURE__ */ u({
  ...E,
  inheritAttrs: !1,
  __name: "ScalarSearchInput",
  props: /* @__PURE__ */ f({
    loader: {},
    label: {}
  }, {
    modelValue: {},
    modelModifiers: {}
  }),
  emits: ["update:modelValue"],
  setup(l) {
    const a = m(l, "modelValue"), o = p(null);
    function c() {
      a.value = "", o.value && o.value.focus();
    }
    const { stylingAttrsCx: i, otherAttrs: s } = _();
    return (I, r) => (t(), h("label", g(v(
      e(i)(
        "flex items-center text-lg font-medium h-10 pl-3 pr-1 py-2 gap-2.25"
      )
    )), [
      b(e(M), { class: "text-sidebar-c-search size-4" }),
      x(y("input", C({
        ref_key: "inputRef",
        ref: o
      }, e(s), {
        "onUpdate:modelValue": r[0] || (r[0] = (d) => a.value = d),
        "aria-label": l.label ?? "Enter search query",
        autocapitalize: "off",
        autocomplete: "off",
        autocorrect: "off",
        class: "flex-1 appearance-none rounded border-none bg-transparent outline-none",
        placeholder: "Search...",
        spellcheck: "false",
        type: "search"
      }), null, 16, w), [
        [S, a.value]
      ]),
      l.loader && l.loader.isActive ? (t(), n(e(A), {
        key: 0,
        class: "self-center",
        loader: l.loader,
        size: "md"
      }, null, 8, ["loader"])) : a.value ? (t(), n(e(B), {
        key: 1,
        class: "p-0 size-5",
        icon: e(z),
        label: "Clear Search",
        weight: "bold",
        onClick: V(c, ["stop", "prevent"])
      }, null, 8, ["icon"])) : k("", !0)
    ], 16));
  }
});
export {
  G as default
};
