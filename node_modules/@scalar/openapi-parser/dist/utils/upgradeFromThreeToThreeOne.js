import{traverse as e}from"./traverse.js";function t(t){return t.openapi?.startsWith("3.0")?(t.openapi="3.1.0",t=e(t,(e=>("undefined"!==e.type&&!0===e.nullable&&(e.type=["null",e.type],delete e.nullable),e))),t=e(t,(e=>(!0===e.exclusiveMinimum?(e.exclusiveMinimum=e.minimum,delete e.minimum):!1===e.exclusiveMinimum&&delete e.exclusiveMinimum,!0===e.exclusiveMaximum?(e.exclusiveMaximum=e.maximum,delete e.maximum):!1===e.exclusiveMaximum&&delete e.exclusiveMaximum,e))),t=e(t,(e=>(void 0!==e.example&&(e.examples={default:e.example},delete e.example),e))),t=e(t,(e=>{if("object"===e.type&&void 0!==e.properties){const t=Object.entries(e.properties);for(const[e,i]of t)"object"==typeof i&&"string"===i.type&&"binary"===i.format&&(i.contentEncoding="application/octet-stream",delete i.format)}return e})),t=e(t,(e=>{if("string"!==e.type||"binary"!==e.format)return e})),t=e(t,(e=>"string"===e.type&&"base64"===e.format?{type:"string",contentEncoding:"base64"}:e))):t}export{t as upgradeFromThreeToThreeOne};
