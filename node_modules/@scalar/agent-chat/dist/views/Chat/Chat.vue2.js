import { defineComponent as y, createElementBlock as s, openBlock as t, Fragment as m, createElementVNode as _, renderList as c, unref as i, createCommentVNode as o, toDisplayString as P, createBlock as n, toRef as a, reactive as d, createVNode as k } from "vue";
import { ASK_FOR_AUTHENTICATION_TOOL_NAME as A } from "../../entities/tools/ask-for-authentication.js";
import { EXECUTE_REQUEST_TOOL_NAME as O } from "../../entities/tools/execute-request.js";
import { GET_MINI_OPENAPI_SPEC_TOOL_NAME as T } from "../../entities/tools/get-mini-openapi-spec.js";
import { GET_OPENAPI_SPECS_SUMMARY_TOOL_NAME as N } from "../../entities/tools/get-openapi-spec-summary.js";
import { useState as g } from "../../state/state.js";
import M from "./Messages/AskForAuthentication.vue.js";
import S from "./Messages/ExecuteRequestTool.vue.js";
import h from "./Messages/GetMiniOpenAPIDocTool.vue.js";
import C from "./Messages/GetOpenAPISpecsSummary.vue.js";
import v from "./Messages/Text.vue.js";
import I from "../PromptForm.vue.js";
const $ = { class: "chat" }, x = { key: 0 }, L = { class: "formContainer" }, Y = /* @__PURE__ */ y({
  __name: "Chat",
  emits: ["submit"],
  setup(R, { emit: p }) {
    const f = p, E = g();
    return (F, u) => (t(), s(m, null, [
      _("div", $, [
        (t(!0), s(m, null, c(i(E).chat.messages, (r) => (t(), s(m, {
          key: r.id
        }, [
          r.role === "user" ? (t(!0), s(m, { key: 0 }, c(r.parts, (e, l) => (t(), s("div", {
            key: `${r.id}-${l}`,
            class: "userMessage"
          }, [
            e.type === "text" ? (t(), s("p", x, P(e.text), 1)) : o("", !0)
          ]))), 128)) : o("", !0),
          r.role === "assistant" ? (t(!0), s(m, { key: 1 }, c(r.parts, (e, l) => (t(), s("div", {
            key: `${r.id}-${l}`
          }, [
            e.type === "text" ? (t(), n(v, {
              key: 0,
              messagePart: a(e)
            }, null, 8, ["messagePart"])) : o("", !0),
            e.type.endsWith(i(O)) ? (t(), n(S, {
              key: 1,
              messagePart: a(
                e
              )
            }, null, 8, ["messagePart"])) : o("", !0),
            e.type.endsWith(i(T)) ? (t(), n(h, {
              key: 2,
              message: d(r),
              messagePart: a(
                e
              )
            }, null, 8, ["message", "messagePart"])) : o("", !0),
            e.type.endsWith(i(N)) ? (t(), n(C, {
              key: 3,
              message: d(r),
              messagePart: a(
                e
              )
            }, null, 8, ["message", "messagePart"])) : o("", !0),
            e.type.endsWith(i(A)) ? (t(), n(M, {
              key: 4,
              message: d(r),
              messagePart: a(
                e
              )
            }, null, 8, ["message", "messagePart"])) : o("", !0)
          ]))), 128)) : o("", !0)
        ], 64))), 128)),
        u[1] || (u[1] = _("div", { class: "spacer" }, null, -1))
      ]),
      _("div", L, [
        k(I, {
          onSubmit: u[0] || (u[0] = (r) => f("submit"))
        })
      ])
    ], 64));
  }
});
export {
  Y as default
};
