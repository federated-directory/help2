import { computed as t } from "vue";
import { z as r } from "zod/mini";
import { safeParseJson as a } from "../helpers.js";
import { useState as n } from "../state/state.js";
const m = r.object({
  message: r.string(),
  code: r.string(),
  status: r.optional(r.number())
});
function p() {
  const { chat: e } = n();
  return t(() => {
    if (!e.error) return;
    const o = a(e.error.message), s = m.safeParse(o);
    return !o || !s.success ? {
      message: e.error.message,
      code: "UNKNOWN_ERROR"
    } : s.data;
  });
}
export {
  p as useChatError
};
