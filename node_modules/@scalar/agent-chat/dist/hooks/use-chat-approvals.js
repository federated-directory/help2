import { computed as l } from "vue";
import { useState as n } from "../state/state.js";
function e(t) {
  return t.type.startsWith("tool") && t.state === "approval-requested";
}
function c() {
  const t = n(), a = l(() => t.chat.messages.filter((o) => o.parts.some(e)).flatMap((o) => o.parts).filter(e));
  async function s(o) {
    const r = a.value.map(
      (p) => t.chat.addToolApprovalResponse({
        id: p.approval.id,
        approved: o
      })
    );
    await Promise.all(r);
  }
  return { approvalRequestedParts: a, respondToToolCalls: s };
}
export {
  c as useChatApprovals
};
