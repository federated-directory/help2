{
  "version": 3,
  "sources": ["../../src/libs/php.ts"],
  "sourcesContent": ["/**\n * Generates a consistent indentation string based on the specified indentation level.\n */\nfunction indent(level: number): string {\n  return ' '.repeat(level * 2)\n}\n\n/**\n * Represents a raw PHP code that should not be quoted, e.g. `fopen('test.txt', 'r')`.\n * If it consists of multiple lines, they will be indented properly.\n */\nexport class Raw {\n  constructor(public value: string) {}\n}\n\n/**\n * Converts a JavaScript object or value into a PHP array or scalar string representation.\n * Handles nested arrays and objects, proper string escaping, and preserves indentation for readability.\n *\n * @example\n * objectToString({ foo: 'bar', baz: 'qux' }) // => \"['foo' => 'bar', 'baz' => 'qux']\"\n */\nexport function objectToString(data: unknown, level = 0): string {\n  if (data === null || data === undefined) {\n    return 'null'\n  }\n\n  if (data instanceof Raw) {\n    const lines = data.value.split('\\n')\n    if (lines.length > 1) {\n      const innerIndentation = indent(level + 1)\n      return lines\n        .map((line, index) => {\n          if (index === 0) {\n            return line\n          }\n          return `${innerIndentation}${line}`\n        })\n        .join('\\n')\n    }\n    return data.value\n  }\n\n  if (typeof data === 'string') {\n    return `'${data.replace(/\\\\/g, '\\\\\\\\').replace(/'/g, \"\\\\'\")}'`\n  }\n\n  if (typeof data === 'number' || typeof data === 'boolean') {\n    return String(data)\n  }\n\n  if (Array.isArray(data)) {\n    if (data.length === 0) {\n      return '[]'\n    }\n\n    const items = data.map((item) => objectToString(item, level + 1)).join(',\\n' + indent(level + 1))\n\n    return `[\\n${indent(level + 1)}${items}\\n${indent(level)}]`\n  }\n\n  if (typeof data === 'object') {\n    const entries = Object.entries(data)\n    if (entries.length === 0) {\n      return '[]'\n    }\n\n    const items = entries\n      .map(([key, value]) => `'${key}' => ${objectToString(value, level + 1)}`)\n      .join(',\\n' + indent(level + 1))\n\n    return `[\\n${indent(level + 1)}${items}\\n${indent(level)}]`\n  }\n\n  return 'null'\n}\n"],
  "mappings": "AAGA,SAAS,OAAO,OAAuB;AACrC,SAAO,IAAI,OAAO,QAAQ,CAAC;AAC7B;AAMO,MAAM,IAAI;AAAA,EACf,YAAmB,OAAe;AAAf;AAAA,EAAgB;AACrC;AASO,SAAS,eAAe,MAAe,QAAQ,GAAW;AAC/D,MAAI,SAAS,QAAQ,SAAS,QAAW;AACvC,WAAO;AAAA,EACT;AAEA,MAAI,gBAAgB,KAAK;AACvB,UAAM,QAAQ,KAAK,MAAM,MAAM,IAAI;AACnC,QAAI,MAAM,SAAS,GAAG;AACpB,YAAM,mBAAmB,OAAO,QAAQ,CAAC;AACzC,aAAO,MACJ,IAAI,CAAC,MAAM,UAAU;AACpB,YAAI,UAAU,GAAG;AACf,iBAAO;AAAA,QACT;AACA,eAAO,GAAG,gBAAgB,GAAG,IAAI;AAAA,MACnC,CAAC,EACA,KAAK,IAAI;AAAA,IACd;AACA,WAAO,KAAK;AAAA,EACd;AAEA,MAAI,OAAO,SAAS,UAAU;AAC5B,WAAO,IAAI,KAAK,QAAQ,OAAO,MAAM,EAAE,QAAQ,MAAM,KAAK,CAAC;AAAA,EAC7D;AAEA,MAAI,OAAO,SAAS,YAAY,OAAO,SAAS,WAAW;AACzD,WAAO,OAAO,IAAI;AAAA,EACpB;AAEA,MAAI,MAAM,QAAQ,IAAI,GAAG;AACvB,QAAI,KAAK,WAAW,GAAG;AACrB,aAAO;AAAA,IACT;AAEA,UAAM,QAAQ,KAAK,IAAI,CAAC,SAAS,eAAe,MAAM,QAAQ,CAAC,CAAC,EAAE,KAAK,QAAQ,OAAO,QAAQ,CAAC,CAAC;AAEhG,WAAO;AAAA,EAAM,OAAO,QAAQ,CAAC,CAAC,GAAG,KAAK;AAAA,EAAK,OAAO,KAAK,CAAC;AAAA,EAC1D;AAEA,MAAI,OAAO,SAAS,UAAU;AAC5B,UAAM,UAAU,OAAO,QAAQ,IAAI;AACnC,QAAI,QAAQ,WAAW,GAAG;AACxB,aAAO;AAAA,IACT;AAEA,UAAM,QAAQ,QACX,IAAI,CAAC,CAAC,KAAK,KAAK,MAAM,IAAI,GAAG,QAAQ,eAAe,OAAO,QAAQ,CAAC,CAAC,EAAE,EACvE,KAAK,QAAQ,OAAO,QAAQ,CAAC,CAAC;AAEjC,WAAO;AAAA,EAAM,OAAO,QAAQ,CAAC,CAAC,GAAG,KAAK;AAAA,EAAK,OAAO,KAAK,CAAC;AAAA,EAC1D;AAEA,SAAO;AACT;",
  "names": []
}
