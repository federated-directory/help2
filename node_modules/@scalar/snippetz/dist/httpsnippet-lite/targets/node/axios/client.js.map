{
  "version": 3,
  "sources": ["../../../../../src/httpsnippet-lite/targets/node/axios/client.ts"],
  "sourcesContent": ["/**\n * @description\n * HTTP code snippet generator for Javascript & Node.js using Axios.\n *\n * @author\n * @rohit-gohri\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nimport stringifyObject from 'stringify-object'\n\nimport { CodeBuilder } from '@/httpsnippet-lite/helpers/code-builder'\nimport type { ReducedHelperObject } from '@/httpsnippet-lite/helpers/reducer'\nimport type { Client } from '@/httpsnippet-lite/targets/target'\n\nexport const axios: Client = {\n  info: {\n    key: 'axios',\n    title: 'Axios',\n    link: 'https://github.com/axios/axios',\n    description: 'Promise based HTTP client for the browser and node.js',\n  },\n  convert: ({ method, url, queryObj, allHeaders, postData }, options) => {\n    const opts = {\n      indent: '  ',\n      ...options,\n    }\n    const { blank, join, push, addPostProcessor } = new CodeBuilder({\n      indent: opts.indent,\n    })\n    push(\"const axios = require('axios').default;\")\n    const reqOpts: {\n      method: string\n      url: string\n      params?: ReducedHelperObject\n      headers?: ReducedHelperObject\n      data?: string | ReducedHelperObject\n    } = {\n      method,\n      url,\n    }\n    if (Object.keys(queryObj).length) {\n      reqOpts.params = queryObj\n    }\n    if (Object.keys(allHeaders).length) {\n      reqOpts.headers = allHeaders\n    }\n    switch (postData === null || postData === void 0 ? void 0 : postData.mimeType) {\n      case 'application/x-www-form-urlencoded':\n        if (postData!.params) {\n          push(\"const { URLSearchParams } = require('url');\")\n          blank()\n          push('const encodedParams = new URLSearchParams();')\n          postData!.params.forEach((param) => {\n            push(`encodedParams.set('${param.name}', '${param.value}');`)\n          })\n          blank()\n          reqOpts.data = 'encodedParams,'\n          addPostProcessor((code) => code.replace(/'encodedParams,'/, 'encodedParams,'))\n        }\n        break\n      case 'application/json':\n        blank()\n        if (postData?.jsonObj) {\n          reqOpts.data = postData.jsonObj\n        }\n        break\n      default:\n        blank()\n        if (postData === null || postData === void 0 ? void 0 : postData.text) {\n          reqOpts.data = postData!.text\n        }\n    }\n    const stringifiedOptions = stringifyObject(reqOpts, {\n      indent: '  ',\n      inlineCharacterLimit: 80,\n    })\n    push(`const options = ${stringifiedOptions};`)\n    blank()\n    push('try {')\n    push('const { data } = await axios.request(options);', 1)\n    push('console.log(data);', 1)\n    push('} catch (error) {')\n    push('console.error(error);', 1)\n    push('}')\n    return join()\n  },\n}\n"],
  "mappings": "AASA,OAAO,qBAAqB;AAE5B,SAAS,mBAAmB;AAIrB,MAAM,QAAgB;AAAA,EAC3B,MAAM;AAAA,IACJ,KAAK;AAAA,IACL,OAAO;AAAA,IACP,MAAM;AAAA,IACN,aAAa;AAAA,EACf;AAAA,EACA,SAAS,CAAC,EAAE,QAAQ,KAAK,UAAU,YAAY,SAAS,GAAG,YAAY;AACrE,UAAM,OAAO;AAAA,MACX,QAAQ;AAAA,MACR,GAAG;AAAA,IACL;AACA,UAAM,EAAE,OAAO,MAAM,MAAM,iBAAiB,IAAI,IAAI,YAAY;AAAA,MAC9D,QAAQ,KAAK;AAAA,IACf,CAAC;AACD,SAAK,yCAAyC;AAC9C,UAAM,UAMF;AAAA,MACF;AAAA,MACA;AAAA,IACF;AACA,QAAI,OAAO,KAAK,QAAQ,EAAE,QAAQ;AAChC,cAAQ,SAAS;AAAA,IACnB;AACA,QAAI,OAAO,KAAK,UAAU,EAAE,QAAQ;AAClC,cAAQ,UAAU;AAAA,IACpB;AACA,YAAQ,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS,UAAU;AAAA,MAC7E,KAAK;AACH,YAAI,SAAU,QAAQ;AACpB,eAAK,6CAA6C;AAClD,gBAAM;AACN,eAAK,8CAA8C;AACnD,mBAAU,OAAO,QAAQ,CAAC,UAAU;AAClC,iBAAK,sBAAsB,MAAM,IAAI,OAAO,MAAM,KAAK,KAAK;AAAA,UAC9D,CAAC;AACD,gBAAM;AACN,kBAAQ,OAAO;AACf,2BAAiB,CAAC,SAAS,KAAK,QAAQ,oBAAoB,gBAAgB,CAAC;AAAA,QAC/E;AACA;AAAA,MACF,KAAK;AACH,cAAM;AACN,YAAI,UAAU,SAAS;AACrB,kBAAQ,OAAO,SAAS;AAAA,QAC1B;AACA;AAAA,MACF;AACE,cAAM;AACN,YAAI,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS,MAAM;AACrE,kBAAQ,OAAO,SAAU;AAAA,QAC3B;AAAA,IACJ;AACA,UAAM,qBAAqB,gBAAgB,SAAS;AAAA,MAClD,QAAQ;AAAA,MACR,sBAAsB;AAAA,IACxB,CAAC;AACD,SAAK,mBAAmB,kBAAkB,GAAG;AAC7C,UAAM;AACN,SAAK,OAAO;AACZ,SAAK,kDAAkD,CAAC;AACxD,SAAK,sBAAsB,CAAC;AAC5B,SAAK,mBAAmB;AACxB,SAAK,yBAAyB,CAAC;AAC/B,SAAK,GAAG;AACR,WAAO,KAAK;AAAA,EACd;AACF;",
  "names": []
}
