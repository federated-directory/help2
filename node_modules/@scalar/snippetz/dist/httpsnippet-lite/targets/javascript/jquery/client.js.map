{
  "version": 3,
  "sources": ["../../../../../src/httpsnippet-lite/targets/javascript/jquery/client.ts"],
  "sourcesContent": ["/**\n * @description\n * HTTP code snippet generator for native XMLHttpRequest\n *\n * @author\n * @AhmadNassri\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\nimport stringifyObject from 'stringify-object'\n\nimport { CodeBuilder } from '@/httpsnippet-lite/helpers/code-builder'\nimport { getHeader, getHeaderName, hasHeader } from '@/httpsnippet-lite/helpers/headers'\nimport type { ReducedHelperObject } from '@/httpsnippet-lite/helpers/reducer'\nimport type { Client } from '@/httpsnippet-lite/targets/target'\n\nexport const jquery: Client = {\n  info: {\n    key: 'jquery',\n    title: 'jQuery',\n    link: 'http://api.jquery.com/jquery.ajax/',\n    description: 'Perform an asynchronous HTTP (Ajax) requests with jQuery',\n  },\n  convert: ({ fullUrl, method, allHeaders, postData }, options) => {\n    let _a\n    const opts = {\n      indent: '  ',\n      ...options,\n    }\n    const { blank, push, join } = new CodeBuilder({ indent: opts.indent })\n    const settings: {\n      async: boolean\n      crossDomain: boolean\n      url: string\n      method: string\n      headers: ReducedHelperObject\n      data?: unknown\n      processData?: boolean\n      contentType?: boolean\n      mimeType?: string\n    } = {\n      async: true,\n      crossDomain: true,\n      url: fullUrl,\n      method,\n      headers: allHeaders,\n    }\n    switch (postData === null || postData === void 0 ? void 0 : postData.mimeType) {\n      case 'application/x-www-form-urlencoded':\n        settings.data = postData?.paramsObj ? postData.paramsObj : postData!.text\n        break\n      case 'application/json':\n        settings.processData = false\n        settings.data = postData!.text\n        break\n      case 'multipart/form-data':\n        if (!postData?.params) {\n          break\n        }\n        push('const form = new FormData();')\n        postData.params.forEach((param) => {\n          push(`form.append('${param.name}', '${param.value || param.fileName || ''}');`)\n        })\n        settings.processData = false\n        settings.contentType = false\n        settings.mimeType = 'multipart/form-data'\n        settings.data = '[form]'\n        // remove the contentType header\n        if (hasHeader(allHeaders, 'content-type')) {\n          if (\n            (_a = getHeader(allHeaders, 'content-type')) === null || _a === void 0 ? void 0 : _a.includes('boundary')\n          ) {\n            const headerName = getHeaderName(allHeaders, 'content-type')\n            if (headerName) {\n              delete settings.headers[headerName]\n            }\n          }\n        }\n        blank()\n        break\n      default:\n        if (postData === null || postData === void 0 ? void 0 : postData.text) {\n          settings.data = postData!.text\n        }\n    }\n    const stringifiedSettings = stringifyObject(settings, {\n      indent: opts.indent,\n    }).replace(\"'[form]'\", 'form')\n    push(`const settings = ${stringifiedSettings};`)\n    blank()\n    push('$.ajax(settings).done(function (response) {')\n    push('console.log(response);', 1)\n    push('});')\n    return join()\n  },\n}\n"],
  "mappings": "AASA,OAAO,qBAAqB;AAE5B,SAAS,mBAAmB;AAC5B,SAAS,WAAW,eAAe,iBAAiB;AAI7C,MAAM,SAAiB;AAAA,EAC5B,MAAM;AAAA,IACJ,KAAK;AAAA,IACL,OAAO;AAAA,IACP,MAAM;AAAA,IACN,aAAa;AAAA,EACf;AAAA,EACA,SAAS,CAAC,EAAE,SAAS,QAAQ,YAAY,SAAS,GAAG,YAAY;AAC/D,QAAI;AACJ,UAAM,OAAO;AAAA,MACX,QAAQ;AAAA,MACR,GAAG;AAAA,IACL;AACA,UAAM,EAAE,OAAO,MAAM,KAAK,IAAI,IAAI,YAAY,EAAE,QAAQ,KAAK,OAAO,CAAC;AACrE,UAAM,WAUF;AAAA,MACF,OAAO;AAAA,MACP,aAAa;AAAA,MACb,KAAK;AAAA,MACL;AAAA,MACA,SAAS;AAAA,IACX;AACA,YAAQ,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS,UAAU;AAAA,MAC7E,KAAK;AACH,iBAAS,OAAO,UAAU,YAAY,SAAS,YAAY,SAAU;AACrE;AAAA,MACF,KAAK;AACH,iBAAS,cAAc;AACvB,iBAAS,OAAO,SAAU;AAC1B;AAAA,MACF,KAAK;AACH,YAAI,CAAC,UAAU,QAAQ;AACrB;AAAA,QACF;AACA,aAAK,8BAA8B;AACnC,iBAAS,OAAO,QAAQ,CAAC,UAAU;AACjC,eAAK,gBAAgB,MAAM,IAAI,OAAO,MAAM,SAAS,MAAM,YAAY,EAAE,KAAK;AAAA,QAChF,CAAC;AACD,iBAAS,cAAc;AACvB,iBAAS,cAAc;AACvB,iBAAS,WAAW;AACpB,iBAAS,OAAO;AAEhB,YAAI,UAAU,YAAY,cAAc,GAAG;AACzC,eACG,KAAK,UAAU,YAAY,cAAc,OAAO,QAAQ,OAAO,SAAS,SAAS,GAAG,SAAS,UAAU,GACxG;AACA,kBAAM,aAAa,cAAc,YAAY,cAAc;AAC3D,gBAAI,YAAY;AACd,qBAAO,SAAS,QAAQ,UAAU;AAAA,YACpC;AAAA,UACF;AAAA,QACF;AACA,cAAM;AACN;AAAA,MACF;AACE,YAAI,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS,MAAM;AACrE,mBAAS,OAAO,SAAU;AAAA,QAC5B;AAAA,IACJ;AACA,UAAM,sBAAsB,gBAAgB,UAAU;AAAA,MACpD,QAAQ,KAAK;AAAA,IACf,CAAC,EAAE,QAAQ,YAAY,MAAM;AAC7B,SAAK,oBAAoB,mBAAmB,GAAG;AAC/C,UAAM;AACN,SAAK,6CAA6C;AAClD,SAAK,0BAA0B,CAAC;AAChC,SAAK,KAAK;AACV,WAAO,KAAK;AAAA,EACd;AACF;",
  "names": []
}
