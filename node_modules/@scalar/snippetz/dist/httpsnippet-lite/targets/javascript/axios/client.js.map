{
  "version": 3,
  "sources": ["../../../../../src/httpsnippet-lite/targets/javascript/axios/client.ts"],
  "sourcesContent": ["/**\n * @description\n * HTTP code snippet generator for Javascript & Node.js using Axios.\n *\n * @author\n * @rohit-gohri\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\n\nimport stringifyObject from 'stringify-object'\n\nimport { CodeBuilder } from '@/httpsnippet-lite/helpers/code-builder'\nimport type { ReducedHelperObject } from '@/httpsnippet-lite/helpers/reducer'\nimport type { Client } from '@/httpsnippet-lite/targets/target'\n\nexport const axios: Client = {\n  info: {\n    key: 'axios',\n    title: 'Axios',\n    link: 'https://github.com/axios/axios',\n    description: 'Promise based HTTP client for the browser and node.js',\n  },\n  convert: ({ allHeaders, method, url, queryObj, postData }, options) => {\n    const opts = {\n      indent: '  ',\n      ...options,\n    }\n    const { blank, push, join, addPostProcessor } = new CodeBuilder({\n      indent: opts.indent,\n    })\n    push(\"import axios from 'axios';\")\n    blank()\n    const requestOptions: {\n      method: string\n      url: string\n      params?: ReducedHelperObject\n      headers?: ReducedHelperObject\n      data?: string | ReducedHelperObject\n    } = {\n      method,\n      url,\n    }\n    if (Object.keys(queryObj).length) {\n      requestOptions.params = queryObj\n    }\n    if (Object.keys(allHeaders).length) {\n      requestOptions.headers = allHeaders\n    }\n    switch (postData === null || postData === void 0 ? void 0 : postData.mimeType) {\n      case 'application/x-www-form-urlencoded':\n        if (postData?.params) {\n          push('const encodedParams = new URLSearchParams();')\n          postData.params.forEach((param) => {\n            push(`encodedParams.set('${param.name}', '${param.value}');`)\n          })\n          blank()\n          requestOptions.data = 'encodedParams,'\n          addPostProcessor((code) => code.replace(/'encodedParams,'/, 'encodedParams,'))\n        }\n        break\n      case 'application/json':\n        if (postData?.jsonObj) {\n          requestOptions.data = postData.jsonObj\n        }\n        break\n      case 'multipart/form-data':\n        if (!postData?.params) {\n          break\n        }\n        push('const form = new FormData();')\n        postData!.params.forEach((param) => {\n          push(`form.append('${param.name}', '${param.value || param.fileName || ''}');`)\n        })\n        blank()\n        requestOptions.data = '[form]'\n        break\n      default:\n        if (postData === null || postData === void 0 ? void 0 : postData.text) {\n          requestOptions.data = postData!.text\n        }\n    }\n    const optionString = stringifyObject(requestOptions, {\n      indent: '  ',\n      inlineCharacterLimit: 80,\n    }).replace('\"[form]\"', 'form')\n    push(`const options = ${optionString};`)\n    blank()\n    push('try {')\n    push('const { data } = await axios.request(options);', 1)\n    push('console.log(data);', 1)\n    push('} catch (error) {')\n    push('console.error(error);', 1)\n    push('}')\n    return join()\n  },\n}\n"],
  "mappings": "AAUA,OAAO,qBAAqB;AAE5B,SAAS,mBAAmB;AAIrB,MAAM,QAAgB;AAAA,EAC3B,MAAM;AAAA,IACJ,KAAK;AAAA,IACL,OAAO;AAAA,IACP,MAAM;AAAA,IACN,aAAa;AAAA,EACf;AAAA,EACA,SAAS,CAAC,EAAE,YAAY,QAAQ,KAAK,UAAU,SAAS,GAAG,YAAY;AACrE,UAAM,OAAO;AAAA,MACX,QAAQ;AAAA,MACR,GAAG;AAAA,IACL;AACA,UAAM,EAAE,OAAO,MAAM,MAAM,iBAAiB,IAAI,IAAI,YAAY;AAAA,MAC9D,QAAQ,KAAK;AAAA,IACf,CAAC;AACD,SAAK,4BAA4B;AACjC,UAAM;AACN,UAAM,iBAMF;AAAA,MACF;AAAA,MACA;AAAA,IACF;AACA,QAAI,OAAO,KAAK,QAAQ,EAAE,QAAQ;AAChC,qBAAe,SAAS;AAAA,IAC1B;AACA,QAAI,OAAO,KAAK,UAAU,EAAE,QAAQ;AAClC,qBAAe,UAAU;AAAA,IAC3B;AACA,YAAQ,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS,UAAU;AAAA,MAC7E,KAAK;AACH,YAAI,UAAU,QAAQ;AACpB,eAAK,8CAA8C;AACnD,mBAAS,OAAO,QAAQ,CAAC,UAAU;AACjC,iBAAK,sBAAsB,MAAM,IAAI,OAAO,MAAM,KAAK,KAAK;AAAA,UAC9D,CAAC;AACD,gBAAM;AACN,yBAAe,OAAO;AACtB,2BAAiB,CAAC,SAAS,KAAK,QAAQ,oBAAoB,gBAAgB,CAAC;AAAA,QAC/E;AACA;AAAA,MACF,KAAK;AACH,YAAI,UAAU,SAAS;AACrB,yBAAe,OAAO,SAAS;AAAA,QACjC;AACA;AAAA,MACF,KAAK;AACH,YAAI,CAAC,UAAU,QAAQ;AACrB;AAAA,QACF;AACA,aAAK,8BAA8B;AACnC,iBAAU,OAAO,QAAQ,CAAC,UAAU;AAClC,eAAK,gBAAgB,MAAM,IAAI,OAAO,MAAM,SAAS,MAAM,YAAY,EAAE,KAAK;AAAA,QAChF,CAAC;AACD,cAAM;AACN,uBAAe,OAAO;AACtB;AAAA,MACF;AACE,YAAI,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS,MAAM;AACrE,yBAAe,OAAO,SAAU;AAAA,QAClC;AAAA,IACJ;AACA,UAAM,eAAe,gBAAgB,gBAAgB;AAAA,MACnD,QAAQ;AAAA,MACR,sBAAsB;AAAA,IACxB,CAAC,EAAE,QAAQ,YAAY,MAAM;AAC7B,SAAK,mBAAmB,YAAY,GAAG;AACvC,UAAM;AACN,SAAK,OAAO;AACZ,SAAK,kDAAkD,CAAC;AACxD,SAAK,sBAAsB,CAAC;AAC5B,SAAK,mBAAmB;AACxB,SAAK,yBAAyB,CAAC;AAC/B,SAAK,GAAG;AACR,WAAO,KAAK;AAAA,EACd;AACF;",
  "names": []
}
