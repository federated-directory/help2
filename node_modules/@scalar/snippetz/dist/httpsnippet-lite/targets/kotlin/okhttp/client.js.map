{
  "version": 3,
  "sources": ["../../../../../src/httpsnippet-lite/targets/kotlin/okhttp/client.ts"],
  "sourcesContent": ["/**\n * @description\n * HTTP code snippet generator for Kotlin using OkHttp.\n *\n * @author\n * @seanghay\n *\n * for any questions or issues regarding the generated code snippet, please open an issue mentioning the author.\n */\n\nimport { CodeBuilder } from '@/httpsnippet-lite/helpers/code-builder'\nimport { escapeForDoubleQuotes } from '@/httpsnippet-lite/helpers/escape'\nimport type { Client } from '@/httpsnippet-lite/targets/target'\n\nexport const okhttp: Client = {\n  info: {\n    key: 'okhttp',\n    title: 'OkHttp',\n    link: 'http://square.github.io/okhttp/',\n    description: 'An HTTP Request Client Library',\n  },\n  convert: ({ postData, fullUrl, method, allHeaders }, options) => {\n    const opts = {\n      indent: '  ',\n      ...options,\n    }\n    const { blank, join, push } = new CodeBuilder({ indent: opts.indent })\n    const methods = ['GET', 'POST', 'PUT', 'DELETE', 'PATCH', 'HEAD']\n    const methodsWithBody = ['POST', 'PUT', 'DELETE', 'PATCH']\n    push('val client = OkHttpClient()')\n    blank()\n    if (postData !== null && postData !== void 0) {\n      if (postData.mimeType === 'application/x-www-form-urlencoded' && postData.params) {\n        push('val formBody = FormBody.Builder()')\n        postData.params.forEach((param) => {\n          push(`.addEncoded(\"${param.name}\", \"${param.value}\")`, 1)\n        })\n        push('.build()', 1)\n        blank()\n      } else if (postData.mimeType === 'multipart/form-data' && postData.params) {\n        push('val body = MultipartBody.Builder()')\n        push('.setType(MultipartBody.FORM)', 1)\n        postData.params.forEach((param) => {\n          if (param.fileName !== undefined) {\n            push(\n              `.addFormDataPart(\"${param.name}\", \"${param.fileName}\", RequestBody.create(MediaType.parse(\"application/octet-stream\"), File(\"${param.fileName}\")))`,\n              1,\n            )\n          } else if (param.value !== undefined) {\n            push(`.addFormDataPart(\"${param.name}\", \"${param.value}\")`, 1)\n          }\n        })\n        push('.build()', 1)\n        blank()\n      } else {\n        push(`val mediaType = MediaType.parse(\"${postData.mimeType}\")`)\n        push(`val body = RequestBody.create(mediaType, ${JSON.stringify(postData.text)})`)\n      }\n    }\n    push('val request = Request.Builder()')\n    push(`.url(\"${fullUrl}\")`, 1)\n    if (!methods.includes(method.toUpperCase())) {\n      if (postData === null || postData === void 0 ? void 0 : postData.text) {\n        push(`.method(\"${method.toUpperCase()}\", body)`, 1)\n      } else {\n        push(`.method(\"${method.toUpperCase()}\", null)`, 1)\n      }\n    } else if (methodsWithBody.includes(method.toUpperCase())) {\n      if (postData === null || postData === void 0 ? void 0 : postData.text || postData.params) {\n        push(`.${method.toLowerCase()}(body)`, 1)\n      } else {\n        push(`.${method.toLowerCase()}(null)`, 1)\n      }\n    } else {\n      push(`.${method.toLowerCase()}()`, 1)\n    }\n    // Add headers, including the cookies\n    Object.keys(allHeaders).forEach((key) => {\n      push(`.addHeader(\"${key}\", \"${escapeForDoubleQuotes(allHeaders[key] as string)}\")`, 1)\n    })\n    push('.build()', 1)\n    blank()\n    push('val response = client.newCall(request).execute()')\n    return join()\n  },\n}\n"],
  "mappings": "AAUA,SAAS,mBAAmB;AAC5B,SAAS,6BAA6B;AAG/B,MAAM,SAAiB;AAAA,EAC5B,MAAM;AAAA,IACJ,KAAK;AAAA,IACL,OAAO;AAAA,IACP,MAAM;AAAA,IACN,aAAa;AAAA,EACf;AAAA,EACA,SAAS,CAAC,EAAE,UAAU,SAAS,QAAQ,WAAW,GAAG,YAAY;AAC/D,UAAM,OAAO;AAAA,MACX,QAAQ;AAAA,MACR,GAAG;AAAA,IACL;AACA,UAAM,EAAE,OAAO,MAAM,KAAK,IAAI,IAAI,YAAY,EAAE,QAAQ,KAAK,OAAO,CAAC;AACrE,UAAM,UAAU,CAAC,OAAO,QAAQ,OAAO,UAAU,SAAS,MAAM;AAChE,UAAM,kBAAkB,CAAC,QAAQ,OAAO,UAAU,OAAO;AACzD,SAAK,6BAA6B;AAClC,UAAM;AACN,QAAI,aAAa,QAAQ,aAAa,QAAQ;AAC5C,UAAI,SAAS,aAAa,uCAAuC,SAAS,QAAQ;AAChF,aAAK,mCAAmC;AACxC,iBAAS,OAAO,QAAQ,CAAC,UAAU;AACjC,eAAK,gBAAgB,MAAM,IAAI,OAAO,MAAM,KAAK,MAAM,CAAC;AAAA,QAC1D,CAAC;AACD,aAAK,YAAY,CAAC;AAClB,cAAM;AAAA,MACR,WAAW,SAAS,aAAa,yBAAyB,SAAS,QAAQ;AACzE,aAAK,oCAAoC;AACzC,aAAK,gCAAgC,CAAC;AACtC,iBAAS,OAAO,QAAQ,CAAC,UAAU;AACjC,cAAI,MAAM,aAAa,QAAW;AAChC;AAAA,cACE,qBAAqB,MAAM,IAAI,OAAO,MAAM,QAAQ,4EAA4E,MAAM,QAAQ;AAAA,cAC9I;AAAA,YACF;AAAA,UACF,WAAW,MAAM,UAAU,QAAW;AACpC,iBAAK,qBAAqB,MAAM,IAAI,OAAO,MAAM,KAAK,MAAM,CAAC;AAAA,UAC/D;AAAA,QACF,CAAC;AACD,aAAK,YAAY,CAAC;AAClB,cAAM;AAAA,MACR,OAAO;AACL,aAAK,oCAAoC,SAAS,QAAQ,IAAI;AAC9D,aAAK,4CAA4C,KAAK,UAAU,SAAS,IAAI,CAAC,GAAG;AAAA,MACnF;AAAA,IACF;AACA,SAAK,iCAAiC;AACtC,SAAK,SAAS,OAAO,MAAM,CAAC;AAC5B,QAAI,CAAC,QAAQ,SAAS,OAAO,YAAY,CAAC,GAAG;AAC3C,UAAI,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS,MAAM;AACrE,aAAK,YAAY,OAAO,YAAY,CAAC,YAAY,CAAC;AAAA,MACpD,OAAO;AACL,aAAK,YAAY,OAAO,YAAY,CAAC,YAAY,CAAC;AAAA,MACpD;AAAA,IACF,WAAW,gBAAgB,SAAS,OAAO,YAAY,CAAC,GAAG;AACzD,UAAI,aAAa,QAAQ,aAAa,SAAS,SAAS,SAAS,QAAQ,SAAS,QAAQ;AACxF,aAAK,IAAI,OAAO,YAAY,CAAC,UAAU,CAAC;AAAA,MAC1C,OAAO;AACL,aAAK,IAAI,OAAO,YAAY,CAAC,UAAU,CAAC;AAAA,MAC1C;AAAA,IACF,OAAO;AACL,WAAK,IAAI,OAAO,YAAY,CAAC,MAAM,CAAC;AAAA,IACtC;AAEA,WAAO,KAAK,UAAU,EAAE,QAAQ,CAAC,QAAQ;AACvC,WAAK,eAAe,GAAG,OAAO,sBAAsB,WAAW,GAAG,CAAW,CAAC,MAAM,CAAC;AAAA,IACvF,CAAC;AACD,SAAK,YAAY,CAAC;AAClB,UAAM;AACN,SAAK,kDAAkD;AACvD,WAAO,KAAK;AAAA,EACd;AACF;",
  "names": []
}
