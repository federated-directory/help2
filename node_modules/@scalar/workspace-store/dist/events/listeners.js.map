{
  "version": 3,
  "sources": ["../../src/events/listeners.ts"],
  "sourcesContent": ["import { type Ref, onBeforeUnmount, watch } from 'vue'\n\nimport type { ApiReferenceEvent, ApiReferenceEvents } from './old-definitions'\n\n/**\n * Vue wrapper for attaching and removing event listeners\n *\n * @deprecated Use the the event bus instead\n */\nexport function onCustomEvent<E extends ApiReferenceEvent>(\n  el: Ref<HTMLElement | null>,\n  event: E,\n  handler: (event: CustomEvent<ApiReferenceEvents[E]['detail']>) => void,\n) {\n  // Any time the element reference changes, we need to add the event listener\n  watch(\n    () => el.value,\n    (element) => {\n      if (!element) {\n        return\n      }\n\n      element.addEventListener(event, handler as any)\n    },\n    { immediate: true },\n  )\n\n  onBeforeUnmount(() => {\n    if (!el.value) {\n      return\n    }\n\n    el.value.removeEventListener(event, handler as any)\n  })\n}\n"],
  "mappings": "AAAA,SAAmB,iBAAiB,aAAa;AAS1C,SAAS,cACd,IACA,OACA,SACA;AAEA;AAAA,IACE,MAAM,GAAG;AAAA,IACT,CAAC,YAAY;AACX,UAAI,CAAC,SAAS;AACZ;AAAA,MACF;AAEA,cAAQ,iBAAiB,OAAO,OAAc;AAAA,IAChD;AAAA,IACA,EAAE,WAAW,KAAK;AAAA,EACpB;AAEA,kBAAgB,MAAM;AACpB,QAAI,CAAC,GAAG,OAAO;AACb;AAAA,IACF;AAEA,OAAG,MAAM,oBAAoB,OAAO,OAAc;AAAA,EACpD,CAAC;AACH;",
  "names": []
}
