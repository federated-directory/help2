{
  "version": 3,
  "sources": ["../../../src/plugins/bundler/helpers.ts"],
  "sourcesContent": ["import { getSegmentsFromPath } from '@scalar/json-magic/helpers/get-segments-from-path'\n\nimport type { UnknownObject } from '@/helpers/general'\nimport { getValueByPath } from '@/helpers/json-path-utils'\n\n/**\n * Recursively resolves the value behind a $ref pointer within the current document tree.\n * For example, given a node with { $ref: '#/some/path' }, this will locate and return\n * the referenced node, following the $ref chain if necessary.\n *\n * @param node - The node that may be a $ref object. If not, returns the node as is.\n * @returns The resolved node if a $ref chain exists, otherwise the original node.\n */\nexport const getResolvedRef = (node: unknown, context: { rootNode: UnknownObject }): unknown => {\n  if (\n    node &&\n    typeof node === 'object' &&\n    '$ref' in node &&\n    typeof node['$ref'] === 'string' &&\n    node['$ref'].startsWith('#')\n  ) {\n    const segments = getSegmentsFromPath(node['$ref'].slice(1))\n    return getResolvedRef(getValueByPath(context.rootNode, segments), context)\n  }\n  // If this node isn't a $ref, return it as the resolved value\n  return node\n}\n"],
  "mappings": "AAAA,SAAS,2BAA2B;AAGpC,SAAS,sBAAsB;AAUxB,MAAM,iBAAiB,CAAC,MAAe,YAAkD;AAC9F,MACE,QACA,OAAO,SAAS,YAChB,UAAU,QACV,OAAO,KAAK,MAAM,MAAM,YACxB,KAAK,MAAM,EAAE,WAAW,GAAG,GAC3B;AACA,UAAM,WAAW,oBAAoB,KAAK,MAAM,EAAE,MAAM,CAAC,CAAC;AAC1D,WAAO,eAAe,eAAe,QAAQ,UAAU,QAAQ,GAAG,OAAO;AAAA,EAC3E;AAEA,SAAO;AACT;",
  "names": []
}
