{
  "version": 3,
  "sources": ["../../src/schemas/workspace.ts"],
  "sourcesContent": ["import { type ThemeId, themeIds } from '@scalar/themes'\nimport { Type } from '@scalar/typebox'\nimport { AVAILABLE_CLIENTS, type AvailableClients } from '@scalar/types/snippetz'\n\nimport { compose } from '@/schemas/compose'\nimport { extensions } from '@/schemas/extensions'\nimport {\n  type XScalarEnvironments,\n  xScalarEnvironmentsSchema,\n} from '@/schemas/extensions/document/x-scalar-environments'\nimport { type XScalarCookies, xScalarCookiesSchema } from '@/schemas/extensions/general/x-scalar-cookies'\nimport { type XScalarOrder, XScalarOrderSchema } from '@/schemas/extensions/general/x-scalar-order'\nimport {\n  type XScalarActiveEnvironment,\n  XScalarActiveEnvironmentSchema,\n} from '@/schemas/extensions/workspace/x-scalar-active-environment'\nimport { type XScalarActiveProxy, XScalarActiveProxySchema } from '@/schemas/extensions/workspace/x-scalar-active-proxy'\nimport { type XScalarTabs, XScalarTabsSchema } from '@/schemas/extensions/workspace/x-scalar-tabs'\nimport type { SecuritySchemeObject } from '@/schemas/v3.1/strict/security-scheme'\nimport type { ServerObject } from '@/schemas/v3.1/strict/server'\n\nimport {\n  OpenAPIDocumentSchema,\n  type OpenApiDocument,\n  SecuritySchemeObjectSchema,\n  ServerObjectSchema,\n} from './v3.1/strict/openapi-document'\n\nexport const WorkspaceDocumentMetaSchema = compose(\n  Type.Partial(\n    Type.Object({\n      [extensions.document.activeAuth]: Type.String(),\n      [extensions.document.activeServer]: Type.String(),\n      'x-scalar-watch-mode': Type.Boolean(),\n    }),\n  ),\n)\n\nexport type WorkspaceDocumentMeta = {\n  [extensions.document.activeAuth]?: string\n  [extensions.document.activeServer]?: string\n  'x-scalar-watch-mode'?: boolean\n}\n\n// Note: use Type.Intersect to combine schemas here because Type.Compose does not work as expected with Modules\nexport const WorkspaceDocumentSchema = Type.Intersect([WorkspaceDocumentMetaSchema, OpenAPIDocumentSchema])\n\nexport type WorkspaceDocument = WorkspaceDocumentMeta & OpenApiDocument\n\nexport const WorkspaceMetaSchema = Type.Partial(\n  compose(\n    Type.Object({\n      [extensions.workspace.colorMode]: Type.Union([\n        Type.Literal('system'),\n        Type.Literal('light'),\n        Type.Literal('dark'),\n      ]),\n      [extensions.workspace.defaultClient]: Type.Union(AVAILABLE_CLIENTS.map((client) => Type.Literal(client))),\n      [extensions.workspace.activeDocument]: Type.String(),\n      [extensions.workspace.theme]: Type.Union(themeIds.map((t) => Type.Literal(t))),\n      [extensions.workspace.sidebarWidth]: Type.Number({ default: 288 }),\n    }),\n    XScalarActiveProxySchema,\n  ),\n)\n\nexport type ColorMode = 'system' | 'light' | 'dark'\n\nexport type WorkspaceMeta = {\n  [extensions.workspace.colorMode]?: ColorMode\n  [extensions.workspace.defaultClient]?: AvailableClients[number]\n  [extensions.workspace.activeDocument]?: string\n  [extensions.workspace.theme]?: ThemeId\n  [extensions.workspace.sidebarWidth]?: number\n} & XScalarActiveProxy\n\nexport const WorkspaceExtensionsSchema = compose(\n  xScalarEnvironmentsSchema,\n  XScalarActiveEnvironmentSchema,\n  Type.Partial(\n    Type.Object({\n      'x-scalar-client-config-servers': Type.Array(ServerObjectSchema),\n      'x-scalar-client-config-security-schemes': Type.Record(Type.String(), SecuritySchemeObjectSchema),\n    }),\n  ),\n  XScalarOrderSchema,\n  xScalarCookiesSchema,\n  XScalarTabsSchema,\n)\n\nexport type WorkspaceExtensions = {\n  'x-scalar-client-config-servers'?: ServerObject[]\n  'x-scalar-client-config-security-schemes'?: Record<string, SecuritySchemeObject>\n} & XScalarEnvironments &\n  XScalarActiveEnvironment &\n  XScalarOrder &\n  XScalarCookies &\n  XScalarTabs\n\nexport const WorkspaceSchema = compose(\n  WorkspaceMetaSchema,\n  Type.Object({\n    documents: Type.Record(Type.String(), WorkspaceDocumentSchema),\n    /** Active document is possibly undefined if we attempt to lookup with an invalid key */\n    activeDocument: Type.Union([Type.Undefined(), WorkspaceDocumentSchema]),\n  }),\n  WorkspaceExtensionsSchema,\n)\n\nexport type Workspace = WorkspaceMeta & {\n  documents: Record<string, WorkspaceDocument>\n  activeDocument: WorkspaceDocument | undefined\n} & WorkspaceExtensions\n"],
  "mappings": "AAAA,SAAuB,gBAAgB;AACvC,SAAS,YAAY;AACrB,SAAS,yBAAgD;AAEzD,SAAS,eAAe;AACxB,SAAS,kBAAkB;AAC3B;AAAA,EAEE;AAAA,OACK;AACP,SAA8B,4BAA4B;AAC1D,SAA4B,0BAA0B;AACtD;AAAA,EAEE;AAAA,OACK;AACP,SAAkC,gCAAgC;AAClE,SAA2B,yBAAyB;AAIpD;AAAA,EACE;AAAA,EAEA;AAAA,EACA;AAAA,OACK;AAEA,MAAM,8BAA8B;AAAA,EACzC,KAAK;AAAA,IACH,KAAK,OAAO;AAAA,MACV,CAAC,WAAW,SAAS,UAAU,GAAG,KAAK,OAAO;AAAA,MAC9C,CAAC,WAAW,SAAS,YAAY,GAAG,KAAK,OAAO;AAAA,MAChD,uBAAuB,KAAK,QAAQ;AAAA,IACtC,CAAC;AAAA,EACH;AACF;AASO,MAAM,0BAA0B,KAAK,UAAU,CAAC,6BAA6B,qBAAqB,CAAC;AAInG,MAAM,sBAAsB,KAAK;AAAA,EACtC;AAAA,IACE,KAAK,OAAO;AAAA,MACV,CAAC,WAAW,UAAU,SAAS,GAAG,KAAK,MAAM;AAAA,QAC3C,KAAK,QAAQ,QAAQ;AAAA,QACrB,KAAK,QAAQ,OAAO;AAAA,QACpB,KAAK,QAAQ,MAAM;AAAA,MACrB,CAAC;AAAA,MACD,CAAC,WAAW,UAAU,aAAa,GAAG,KAAK,MAAM,kBAAkB,IAAI,CAAC,WAAW,KAAK,QAAQ,MAAM,CAAC,CAAC;AAAA,MACxG,CAAC,WAAW,UAAU,cAAc,GAAG,KAAK,OAAO;AAAA,MACnD,CAAC,WAAW,UAAU,KAAK,GAAG,KAAK,MAAM,SAAS,IAAI,CAAC,MAAM,KAAK,QAAQ,CAAC,CAAC,CAAC;AAAA,MAC7E,CAAC,WAAW,UAAU,YAAY,GAAG,KAAK,OAAO,EAAE,SAAS,IAAI,CAAC;AAAA,IACnE,CAAC;AAAA,IACD;AAAA,EACF;AACF;AAYO,MAAM,4BAA4B;AAAA,EACvC;AAAA,EACA;AAAA,EACA,KAAK;AAAA,IACH,KAAK,OAAO;AAAA,MACV,kCAAkC,KAAK,MAAM,kBAAkB;AAAA,MAC/D,2CAA2C,KAAK,OAAO,KAAK,OAAO,GAAG,0BAA0B;AAAA,IAClG,CAAC;AAAA,EACH;AAAA,EACA;AAAA,EACA;AAAA,EACA;AACF;AAWO,MAAM,kBAAkB;AAAA,EAC7B;AAAA,EACA,KAAK,OAAO;AAAA,IACV,WAAW,KAAK,OAAO,KAAK,OAAO,GAAG,uBAAuB;AAAA;AAAA,IAE7D,gBAAgB,KAAK,MAAM,CAAC,KAAK,UAAU,GAAG,uBAAuB,CAAC;AAAA,EACxE,CAAC;AAAA,EACD;AACF;",
  "names": []
}
