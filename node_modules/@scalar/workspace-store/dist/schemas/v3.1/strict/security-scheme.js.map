{
  "version": 3,
  "sources": ["../../../../src/schemas/v3.1/strict/security-scheme.ts"],
  "sourcesContent": ["import { Type } from '@scalar/typebox'\n\nimport { compose } from '@/schemas/compose'\nimport { type XDefaultScopes, XDefaultScopesSchema } from '@/schemas/extensions/security/x-default-scopes'\nimport {\n  type XScalarSecretHTTP,\n  XScalarSecretHTTPSchema,\n  type XScalarSecretToken,\n  XScalarSecretTokenSchema,\n} from '@/schemas/extensions/security/x-scalar-security-secrets'\nimport type { OAuthFlowsObject } from '@/schemas/v3.1/strict/oauthflows'\nimport { OAuthFlowsObjectRef } from '@/schemas/v3.1/strict/ref-definitions'\n\nconst DescriptionSchema = Type.Object({\n  /** A description for security scheme. CommonMark syntax MAY be used for rich text representation. */\n  description: Type.Optional(Type.String()),\n})\n\ntype Description = {\n  /** A description for security scheme. CommonMark syntax MAY be used for rich text representation. */\n  description?: string\n}\n\nconst ApiKeySchema = compose(\n  DescriptionSchema,\n  XScalarSecretTokenSchema,\n  Type.Object({\n    /** REQUIRED. The type of the security scheme. Valid values are \"apiKey\", \"http\", \"mutualTLS\", \"oauth2\", \"openIdConnect\". */\n    type: Type.Literal('apiKey'),\n    /** REQUIRED. The name of the header, query or cookie parameter to be used. */\n    name: Type.String(),\n    /** REQUIRED. The location of the API key. Valid values are \"query\", \"header\", or \"cookie\". */\n    in: Type.Union([Type.Literal('query'), Type.Literal('header'), Type.Literal('cookie')]),\n  }),\n)\n\nexport type ApiKeyObject = Description & {\n  /** REQUIRED. The type of the security scheme. Valid values are \"apiKey\", \"http\", \"mutualTLS\", \"oauth2\", \"openIdConnect\". */\n  type: 'apiKey'\n  /** REQUIRED. The name of the header, query or cookie parameter to be used. */\n  name: string\n  /** REQUIRED. The location of the API key. Valid values are \"query\", \"header\", or \"cookie\". */\n  in: 'query' | 'header' | 'cookie'\n} & XScalarSecretToken\n\nconst HttpSchema = compose(\n  DescriptionSchema,\n  XScalarSecretTokenSchema,\n  XScalarSecretHTTPSchema,\n  Type.Object({\n    /** REQUIRED. The type of the security scheme. Valid values are \"apiKey\", \"http\", \"mutualTLS\", \"oauth2\", \"openIdConnect\". */\n    type: Type.Literal('http'),\n    /** REQUIRED. The name of the HTTP Authentication scheme to be used in the Authorization header as defined in RFC7235. The values used SHOULD be registered in the IANA Authentication Scheme registry. The value is case-insensitive, as defined in RFC7235. */\n    scheme: Type.Union([Type.Literal('basic'), Type.Literal('bearer')]),\n    /** A hint to the client to identify how the bearer token is formatted. Bearer tokens are usually generated by an authorization server, so this information is primarily for documentation purposes. */\n    bearerFormat: Type.Optional(Type.String()),\n  }),\n)\n\nexport type HttpObject = Description & {\n  /** REQUIRED. The type of the security scheme. Valid values are \"apiKey\", \"http\", \"mutualTLS\", \"oauth2\", \"openIdConnect\". */\n  type: 'http'\n  /** REQUIRED. The name of the HTTP Authentication scheme to be used in the Authorization header as defined in RFC7235. The values used SHOULD be registered in the IANA Authentication Scheme registry. The value is case-insensitive, as defined in RFC7235. */\n  scheme: 'basic' | 'bearer'\n  /** A hint to the client to identify how the bearer token is formatted. Bearer tokens are usually generated by an authorization server, so this information is primarily for documentation purposes. */\n  bearerFormat?: string\n} & XScalarSecretHTTP &\n  XScalarSecretToken\n\nconst OAuth2 = compose(\n  DescriptionSchema,\n  Type.Object({\n    /** REQUIRED. The type of the security scheme. Valid values are \"apiKey\", \"http\", \"mutualTLS\", \"oauth2\", \"openIdConnect\". */\n    type: Type.Literal('oauth2'),\n    /** REQUIRED. An object containing configuration information for the flow types supported. */\n    flows: OAuthFlowsObjectRef,\n  }),\n  XDefaultScopesSchema,\n)\n\nexport type OAuth2Object = Description & {\n  /** REQUIRED. The type of the security scheme. Valid values are \"apiKey\", \"http\", \"mutualTLS\", \"oauth2\", \"openIdConnect\". */\n  type: 'oauth2'\n  /** REQUIRED. An object containing configuration information for the flow types supported. */\n  flows: OAuthFlowsObject\n} & XDefaultScopes\n\nconst OpenIdConnect = compose(\n  DescriptionSchema,\n  Type.Object({\n    /** REQUIRED. The type of the security scheme. Valid values are \"apiKey\", \"http\", \"mutualTLS\", \"oauth2\", \"openIdConnect\". */\n    type: Type.Literal('openIdConnect'),\n    /** REQUIRED. Well-known URL to discover the [[OpenID-Connect-Discovery]] provider metadata. */\n    openIdConnectUrl: Type.String(),\n  }),\n)\n\ntype OpenIdConnectObject = Description & {\n  /** REQUIRED. The type of the security scheme. Valid values are \"apiKey\", \"http\", \"mutualTLS\", \"oauth2\", \"openIdConnect\". */\n  type: 'openIdConnect'\n  /** REQUIRED. Well-known URL to discover the [[OpenID-Connect-Discovery]] provider metadata. */\n  openIdConnectUrl: string\n}\n\n/**\n * Defines a security scheme that can be used by the operations.\n *\n * Supported schemes are HTTP authentication, an API key (either as a header, a cookie parameter or as a query parameter), mutual TLS (use of a client certificate), OAuth2's common flows (implicit, password, client credentials and authorization code) as defined in RFC6749, and [[OpenID-Connect-Core]]. Please note that as of 2020, the implicit flow is about to be deprecated by OAuth 2.0 Security Best Current Practice. Recommended for most use cases is Authorization Code Grant flow with PKCE.\n */\nexport const SecuritySchemeObjectSchemaDefinition = Type.Union([ApiKeySchema, HttpSchema, OAuth2, OpenIdConnect])\n\nexport type SecuritySchemeObject = ApiKeyObject | HttpObject | OAuth2Object | OpenIdConnectObject\n"],
  "mappings": "AAAA,SAAS,YAAY;AAErB,SAAS,eAAe;AACxB,SAA8B,4BAA4B;AAC1D;AAAA,EAEE;AAAA,EAEA;AAAA,OACK;AAEP,SAAS,2BAA2B;AAEpC,MAAM,oBAAoB,KAAK,OAAO;AAAA;AAAA,EAEpC,aAAa,KAAK,SAAS,KAAK,OAAO,CAAC;AAC1C,CAAC;AAOD,MAAM,eAAe;AAAA,EACnB;AAAA,EACA;AAAA,EACA,KAAK,OAAO;AAAA;AAAA,IAEV,MAAM,KAAK,QAAQ,QAAQ;AAAA;AAAA,IAE3B,MAAM,KAAK,OAAO;AAAA;AAAA,IAElB,IAAI,KAAK,MAAM,CAAC,KAAK,QAAQ,OAAO,GAAG,KAAK,QAAQ,QAAQ,GAAG,KAAK,QAAQ,QAAQ,CAAC,CAAC;AAAA,EACxF,CAAC;AACH;AAWA,MAAM,aAAa;AAAA,EACjB;AAAA,EACA;AAAA,EACA;AAAA,EACA,KAAK,OAAO;AAAA;AAAA,IAEV,MAAM,KAAK,QAAQ,MAAM;AAAA;AAAA,IAEzB,QAAQ,KAAK,MAAM,CAAC,KAAK,QAAQ,OAAO,GAAG,KAAK,QAAQ,QAAQ,CAAC,CAAC;AAAA;AAAA,IAElE,cAAc,KAAK,SAAS,KAAK,OAAO,CAAC;AAAA,EAC3C,CAAC;AACH;AAYA,MAAM,SAAS;AAAA,EACb;AAAA,EACA,KAAK,OAAO;AAAA;AAAA,IAEV,MAAM,KAAK,QAAQ,QAAQ;AAAA;AAAA,IAE3B,OAAO;AAAA,EACT,CAAC;AAAA,EACD;AACF;AASA,MAAM,gBAAgB;AAAA,EACpB;AAAA,EACA,KAAK,OAAO;AAAA;AAAA,IAEV,MAAM,KAAK,QAAQ,eAAe;AAAA;AAAA,IAElC,kBAAkB,KAAK,OAAO;AAAA,EAChC,CAAC;AACH;AAcO,MAAM,uCAAuC,KAAK,MAAM,CAAC,cAAc,YAAY,QAAQ,aAAa,CAAC;",
  "names": []
}
