{
  "version": 3,
  "sources": ["../../../../src/schemas/extensions/operation/x-scalar-history.ts"],
  "sourcesContent": ["import { Type } from '@scalar/typebox'\n\nconst HeaderSchema = Type.Object({\n  name: Type.String(),\n  value: Type.String(),\n})\n\ntype Header = {\n  name: string\n  value: string\n}\n\n/**\n * This object contains detailed info about performed request.\n */\nconst RequestSchema = Type.Object({\n  /** Absolute URL of the request (fragments are not included). */\n  url: Type.String(),\n  /** Request method (`GET`, `POST`, ...). */\n  method: Type.String(),\n  /** Request HTTP Version. */\n  httpVersion: Type.String(),\n  /** List of header objects. */\n  headers: Type.Array(HeaderSchema),\n  /** List of cookie objects. */\n  cookies: Type.Array(HeaderSchema),\n  /**\n   * Total number of bytes from the start of the HTTP request message until\n   * (and including) the double CRLF before the body.\n   *\n   * Set to `-1` if the info is not available.\n   */\n  headersSize: Type.Number(),\n  /** List of query string objects. */\n  queryString: Type.Array(HeaderSchema),\n  /**\n   * Size of the request body (POST data payload) in bytes.\n   *\n   * Set to `-1` if the info is not available.\n   */\n  bodySize: Type.Number(),\n  /** Posted data info. */\n  postData: Type.Optional(\n    Type.Union([\n      Type.Object({\n        /** Mime type of posted data. */\n        mimeType: Type.String(),\n        text: Type.String(),\n      }),\n      Type.Object({\n        /** Mime type of posted data. */\n        mimeType: Type.String(),\n        params: Type.Array(Type.Object({ name: Type.String(), value: Type.Optional(Type.String()) })),\n      }),\n    ]),\n  ),\n})\n\n/**\n * This object contains detailed info about performed request.\n */\ntype Request = {\n  /** Absolute URL of the request (fragments are not included). */\n  url: string\n  /** Request method (`GET`, `POST`, ...). */\n  method: string\n  /** Request HTTP Version. */\n  httpVersion: string\n  /** List of header objects. */\n  headers: Header[]\n  /** List of cookie objects. */\n  cookies: Header[]\n  /**\n   * Total number of bytes from the start of the HTTP request message until\n   * (and including) the double CRLF before the body.\n   *\n   * Set to `-1` if the info is not available.\n   */\n  headersSize: number\n  /** List of query string objects. */\n  queryString: Header[]\n  /**\n   * Size of the request body (POST data payload) in bytes.\n   *\n   * Set to `-1` if the info is not available.\n   */\n  bodySize: number\n  /** Posted data info. */\n  postData?:\n    | {\n        /** Mime type of posted data. */\n        mimeType: string\n        text: string\n      }\n    | {\n        /** Mime type of posted data. */\n        mimeType: string\n        params: { name: string; value?: string }[]\n      }\n}\n\nconst ResponseSchema = Type.Object({\n  status: Type.Number(),\n  statusText: Type.String(),\n  headers: Type.Array(HeaderSchema),\n  cookies: Type.Array(HeaderSchema),\n  httpVersion: Type.String(),\n  redirectURL: Type.String(),\n  headersSize: Type.Number(),\n  bodySize: Type.Number(),\n  content: Type.Object({\n    size: Type.Number(),\n    mimeType: Type.String(),\n    encoding: Type.Optional(Type.String()),\n    text: Type.Optional(Type.String()),\n  }),\n})\n\ntype Response = {\n  /** Response status. */\n  status: number\n  /** Response status description. */\n  statusText: string\n  /** Response HTTP Version. */\n  httpVersion: string\n  /** List of cookie objects. */\n  cookies: Header[]\n  /** List of header objects. */\n  headers: Header[]\n  /** Details about the response body. */\n  content: {\n    size: number\n    mimeType: string\n    encoding?: string\n    text?: string\n  }\n  /** Redirection target URL from the Location response header. */\n  redirectURL: string\n  /**\n   * Total number of bytes from the start of the HTTP response message until\n   * (and including) the double CRLF before the body.\n   *\n   * Set to `-1` if the info is not available.\n   *\n   * _The size of received response-headers is computed only from headers\n   * that are really received from the server. Additional headers appended by\n   * the browser are not included in this number, but they appear in the list\n   * of header objects._\n   */\n  headersSize: number\n  /**\n   * Size of the received response body in bytes.\n   *\n   * - Set to zero in case of responses coming from the cache (`304`).\n   * - Set to `-1` if the info is not available.\n   */\n  bodySize: number\n}\n\nconst EntrySchema = Type.Object({\n  /**\n   * Total elapsed time of the request in milliseconds.\n   *\n   * This is the sum of all timings available in the timings object\n   * (i.e. not including `-1` values).\n   */\n  time: Type.Number(),\n  /** Timestamp of the request. */\n  timestamp: Type.Number(),\n  /** Detailed info about the request. */\n  request: RequestSchema,\n  /** Detailed info about the response. */\n  response: ResponseSchema,\n  /** Meta data about the request. */\n  meta: Type.Object({\n    /** The example key for the request. */\n    example: Type.String(),\n  }),\n  requestMetadata: Type.Object({\n    /** Variables used in the request.\n     *\n     * Since HAR format does not support variables, we need to store them here.\n     * This way we can easily re-use the request with the same variables.\n     * We don't need to do any server + variables matching and replacement.\n     */\n    variables: Type.Record(Type.String(), Type.String()),\n    // Other meta fields (e.g., server) can be added here in the future.\n  }),\n})\n\ntype Entry = {\n  /**\n   * Total elapsed time of the request in milliseconds.\n   *\n   * This is the sum of all timings available in the timings object\n   * (i.e. not including `-1` values).\n   */\n  time: number\n  /** Timestamp of the request. */\n  timestamp: number\n  /** Detailed info about the request. */\n  request: Request\n  /** Detailed info about the response. */\n  response: Response\n  /** Meta data about the request. */\n  meta: {\n    /** The example key for the request. */\n    example: string\n  }\n  /** Metadata about the request. */\n  requestMetadata: {\n    /** Variables used in the request. */\n    variables: Record<string, string>\n    // Other meta fields (e.g., server) can be added here in the future.\n  }\n}\n\nexport const XScalarHistorySchema = Type.Object({\n  'x-scalar-history': Type.Optional(Type.Array(EntrySchema)),\n})\n\nexport type XScalarHistory = {\n  'x-scalar-history'?: Entry[]\n}\n"],
  "mappings": "AAAA,SAAS,YAAY;AAErB,MAAM,eAAe,KAAK,OAAO;AAAA,EAC/B,MAAM,KAAK,OAAO;AAAA,EAClB,OAAO,KAAK,OAAO;AACrB,CAAC;AAUD,MAAM,gBAAgB,KAAK,OAAO;AAAA;AAAA,EAEhC,KAAK,KAAK,OAAO;AAAA;AAAA,EAEjB,QAAQ,KAAK,OAAO;AAAA;AAAA,EAEpB,aAAa,KAAK,OAAO;AAAA;AAAA,EAEzB,SAAS,KAAK,MAAM,YAAY;AAAA;AAAA,EAEhC,SAAS,KAAK,MAAM,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAOhC,aAAa,KAAK,OAAO;AAAA;AAAA,EAEzB,aAAa,KAAK,MAAM,YAAY;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAMpC,UAAU,KAAK,OAAO;AAAA;AAAA,EAEtB,UAAU,KAAK;AAAA,IACb,KAAK,MAAM;AAAA,MACT,KAAK,OAAO;AAAA;AAAA,QAEV,UAAU,KAAK,OAAO;AAAA,QACtB,MAAM,KAAK,OAAO;AAAA,MACpB,CAAC;AAAA,MACD,KAAK,OAAO;AAAA;AAAA,QAEV,UAAU,KAAK,OAAO;AAAA,QACtB,QAAQ,KAAK,MAAM,KAAK,OAAO,EAAE,MAAM,KAAK,OAAO,GAAG,OAAO,KAAK,SAAS,KAAK,OAAO,CAAC,EAAE,CAAC,CAAC;AAAA,MAC9F,CAAC;AAAA,IACH,CAAC;AAAA,EACH;AACF,CAAC;AA6CD,MAAM,iBAAiB,KAAK,OAAO;AAAA,EACjC,QAAQ,KAAK,OAAO;AAAA,EACpB,YAAY,KAAK,OAAO;AAAA,EACxB,SAAS,KAAK,MAAM,YAAY;AAAA,EAChC,SAAS,KAAK,MAAM,YAAY;AAAA,EAChC,aAAa,KAAK,OAAO;AAAA,EACzB,aAAa,KAAK,OAAO;AAAA,EACzB,aAAa,KAAK,OAAO;AAAA,EACzB,UAAU,KAAK,OAAO;AAAA,EACtB,SAAS,KAAK,OAAO;AAAA,IACnB,MAAM,KAAK,OAAO;AAAA,IAClB,UAAU,KAAK,OAAO;AAAA,IACtB,UAAU,KAAK,SAAS,KAAK,OAAO,CAAC;AAAA,IACrC,MAAM,KAAK,SAAS,KAAK,OAAO,CAAC;AAAA,EACnC,CAAC;AACH,CAAC;AA2CD,MAAM,cAAc,KAAK,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,EAO9B,MAAM,KAAK,OAAO;AAAA;AAAA,EAElB,WAAW,KAAK,OAAO;AAAA;AAAA,EAEvB,SAAS;AAAA;AAAA,EAET,UAAU;AAAA;AAAA,EAEV,MAAM,KAAK,OAAO;AAAA;AAAA,IAEhB,SAAS,KAAK,OAAO;AAAA,EACvB,CAAC;AAAA,EACD,iBAAiB,KAAK,OAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAO3B,WAAW,KAAK,OAAO,KAAK,OAAO,GAAG,KAAK,OAAO,CAAC;AAAA;AAAA,EAErD,CAAC;AACH,CAAC;AA6BM,MAAM,uBAAuB,KAAK,OAAO;AAAA,EAC9C,oBAAoB,KAAK,SAAS,KAAK,MAAM,WAAW,CAAC;AAC3D,CAAC;",
  "names": []
}
