{
  "version": 3,
  "sources": ["../../src/helpers/get-resolved-ref.ts"],
  "sourcesContent": ["export type RefNode<Node> = Partial<Node> & { $ref: string; '$ref-value': Node }\nexport type NodeInput<Node> = Node | RefNode<Node>\n\nconst defaultTransform = <Node>(node: RefNode<Node>) => {\n  return node['$ref-value']\n}\n\n/**\n * Resolves a node that may be a $ref object to its actual value.\n * If the node contains a $ref, applies the provided transform (default: returns '$ref-value').\n * Otherwise, returns the node as-is.\n */\nexport const getResolvedRef = <Node>(\n  node: NodeInput<Node>,\n  transform: (node: RefNode<Node>) => Node = defaultTransform,\n) => {\n  if (typeof node === 'object' && node !== null && '$ref' in node) {\n    return transform(node)\n  }\n\n  return node\n}\n\n/**\n * Type helper we can use if we have getResolvedRef higher in the stack\n */\nexport type Dereference<T> = T extends { $ref: string; '$ref-value'?: infer V } ? (V extends object ? V : never) : T\n"],
  "mappings": "AAGA,MAAM,mBAAmB,CAAO,SAAwB;AACtD,SAAO,KAAK,YAAY;AAC1B;AAOO,MAAM,iBAAiB,CAC5B,MACA,YAA2C,qBACxC;AACH,MAAI,OAAO,SAAS,YAAY,SAAS,QAAQ,UAAU,MAAM;AAC/D,WAAO,UAAU,IAAI;AAAA,EACvB;AAEA,SAAO;AACT;",
  "names": []
}
